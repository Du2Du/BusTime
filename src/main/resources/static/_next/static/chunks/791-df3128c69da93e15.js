(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{5244:function(e,n,r){"use strict";r.d(n,{m:function(){return p}});var s=r(5893),t=r(1163),i=r.n(t),a=r(7294),l=r(9363),o=r(8929),c=r(8058),d=r(3459),u=r(3377),m=r(7658),h=r.n(m);function f(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(n){f(e,n,r[n])}))}return e}function p(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(r){var i=(0,o.S)(),l=i.userData,c=i.getUser,d=(0,t.useRouter)().pathname,m=d===u.M.LOGIN||d===u.M.REGISTER||"/"===d;return(0,a.useEffect)((function(){l||c()}),[]),m?l?(0,s.jsx)(x,{isCredential:m}):(0,s.jsx)(e,_({},r)):l?n?l.isAdmin?(0,s.jsx)(e,_({},r)):(0,s.jsx)(x,{isCredential:!0}):(0,s.jsx)(e,_({},r)):(0,s.jsx)(x,{isCredential:m})};return r}var x=function(e){var n=e.isCredential,r=(0,c.l)(),t=r.setTrue,a=r.setFalse;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Sd,{title:"N\xe3o Autorizado"}),(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(),i().push(n?u.M.HOME:u.M.LOGIN).finally(a)},className:"".concat(h().notAuth," rounded"),children:[(0,s.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,s.jsx)(d.z,{label:"Voltar"})]})]})}},3459:function(e,n,r){"use strict";r.d(n,{z:function(){return d},M:function(){return u}});var s=r(5893),t=(r(7294),r(4931)),i=r(9363),a=r(2429),l=r.n(a),o=r(7041),c=r.n(o),d=function(e){var n=e.label,r=e.onClick;return(0,s.jsxs)("button",{type:"submit",onClick:r,className:c().buttonBorder,children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),n]})},u=function(e){var n=e.isLogin,r=e.label,a=e.register,o=e.errors,c=n?"ENTRAR":"CADASTRAR",u=["name","cpf","birthDate","email","password"],m={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},h=function(e){t.ZP.error(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl",children:r}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,s.jsx)(i.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,s.jsx)(d,{onClick:function(){u.forEach((function(e){var n,r,s;"required"===(null===(n=o[e])||void 0===n?void 0:n.type)&&h(m[e].required),"pattern"===(null===(r=o[e])||void 0===r?void 0:r.type)&&h(m[e].pattern),"min"===(null===(s=o[e])||void 0===s?void 0:s.type)&&h(m[e].min)}))},label:c})]})}},2007:function(e,n,r){"use strict";r.d(n,{h:function(){return b},o:function(){return E}});var s=r(5893),t=r(1163),i=r.n(t),a=r(7294),l=r(7516),o=r(8058),c=r(3377),d=r(4959),u=r.n(d),m=r(8193),h=r(471),f=r(2585),_=r(8929),p=r(6518),x=r.n(p),j=function(){var e=(0,_.S)().userData;return(0,s.jsxs)("div",{className:x().dropdown,children:[(0,s.jsx)("a",{className:x().label,children:(0,s.jsx)(m.qTj,{size:20})}),(0,s.jsxs)("ul",{className:x().items,children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:c.M.PROFILE,children:[(0,s.jsx)(h.Mdg,{size:27,className:x().faBrands}),"Perfil"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:c.M.HOME,children:[(0,s.jsx)(l.DaR,{size:27,className:x().faBrands}),"Menu"]})}),(null===e||void 0===e?void 0:e.isAdmin)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:c.M.CREATE_BUS,children:[(0,s.jsx)(f.JSW,{size:27,className:x().faBrands}),"Cadastrar"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:c.M.BUS,children:[(0,s.jsx)(l.BEE,{size:27,className:x().faBrands}),"\xd4nibus"]})})]}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:c.M.LOGOUT,children:[(0,s.jsx)(l.sSc,{size:27,className:x().faBrands}),"Sair"]})})]})]})},b=function(){var e=(0,a.useState)(""),n=e[0],r=e[1],t=(0,o.l)(),d=t.setTrue,m=t.setFalse;return(0,s.jsxs)("header",{className:"".concat(u().header),children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"".concat(u().searchBox),children:[(0,s.jsx)("input",{type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"Procure pela Linha do \xd4nibus",onKeyDown:function(e){if("Enter"===e.code)return d(),i().push("".concat(c.M.SEARCH_BUS,"?line=").concat(n)).finally(m)},className:u().searchInput}),(0,s.jsx)("a",{href:"".concat(c.M.SEARCH_BUS,"?line=").concat(n),className:u().searchBtn,children:(0,s.jsx)(l.Goc,{})})]}),(0,s.jsx)("h1",{children:"BusTime"})]})},v=r(5621),N=r(9363),I=r(1173),g=r(2866),E=function(){var e=(0,_.S)().userData,n=(0,a.useState)(),r=n[0],t=n[1],l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;I.z.get("".concat(v.M.LIST_BUS,"?size=").concat(n,"&page=").concat(e)).then((function(e){return t(e.data)}))};return(0,a.useEffect)((function(){l(0)}),[]),(0,s.jsxs)("main",{className:u().homeMain,children:[(null===e||void 0===e?void 0:e.isAdmin)&&(0,s.jsxs)("div",{className:u().busDescription,children:[(0,s.jsx)("p",{children:"\xc9 respons\xe1vel por alguma rota de \xf4nibus? Registre ela agora!"}),(0,s.jsx)(N.zx,{onClick:function(){i().push(c.M.CREATE_BUS)},className:"my-4",btnLabel:"Cadastrar"})]}),(0,s.jsxs)("div",{className:u().busList,children:[(0,s.jsx)("p",{children:"Veja agora os hor\xe1rios de \xf4nibus:"}),0!==(null===r||void 0===r?void 0:r.content.length)&&(null===r||void 0===r?void 0:r.content)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:u().list,children:null===r||void 0===r?void 0:r.content.map((function(e){return(0,s.jsx)(g.V,{bus:e},e.id)}))}),r&&(0,s.jsx)(N.tl,{showTotal:!0,reloadItens:l,pagination:r})]}):(0,s.jsx)("p",{style:{color:"#fff"},children:"Nenhum \xf4nibus a ser exibido"})]})]})}},2866:function(e,n,r){"use strict";r.d(n,{V:function(){return a}});var s=r(5893),t=(r(7294),r(4959)),i=r.n(t),a=function(e){var n=e.bus;return(0,s.jsxs)("div",{className:i().listItem,children:[(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Linha: "}),n.line]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Hor\xe1rio: "}),n.hour]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Passagem: "}),"R$",n.ticketPrice]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Incial: "}),n.inicialRoute]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Final: "}),n.finalRoute]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"N\xfamero: "}),n.busNumber]})]})}},3377:function(e,n,r){"use strict";r.d(n,{M:function(){return s}});var s={LOGIN:"/login",REGISTER:"/register",CREATE_BUS:"/create-bus",HOME:"/home",PROFILE:"/profile",PROFILE_UPDATE:"/profile/update",BUS:"/bus",LOGOUT:"/logout",UPDATE_BUS:"/update-bus",SEARCH_BUS:"/search-bus"}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},4959:function(e){e.exports={home:"Home_home__NtsD3",header:"Home_header__Ra6e4",searchBox:"Home_searchBox__z_tZa",searchInput:"Home_searchInput__wJXwE",searchBtn:"Home_searchBtn__i34iE",homeMain:"Home_homeMain__PPaXi",busDescription:"Home_busDescription__yi9NT",busList:"Home_busList__IUmdF",list:"Home_list__8Hj5e",listItem:"Home_listItem__4FC7j",fieldItem:"Home_fieldItem__4d_6l"}},6518:function(e){e.exports={dropdown:"Dropdown_dropdown__RTKFo",items:"Dropdown_items__AxuVI",faBrands:"Dropdown_faBrands__vVX4r",label:"Dropdown_label__ZyQIb"}}}]);