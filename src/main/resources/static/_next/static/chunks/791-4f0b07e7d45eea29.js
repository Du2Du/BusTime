(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{5244:function(e,n,r){"use strict";r.d(n,{m:function(){return _}});var s=r(5893),t=r(1163),i=r.n(t),a=r(7294),o=r(9363),l=r(8929),c=r(3459),d=r(3377),u=r(7658),m=r.n(u);function h(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(n){h(e,n,r[n])}))}return e}function _(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(r){var i=(0,l.S)(),o=i.userData,c=i.getUser,u=(0,t.useRouter)().pathname,m=u===d.M.LOGIN||u===d.M.REGISTER||"/"===u;return(0,a.useEffect)((function(){o||c()}),[o]),m?o?(0,s.jsx)(p,{isCredential:m}):(0,s.jsx)(e,f({},r)):o?n?o.isAdmin?(0,s.jsx)(e,f({},r)):(0,s.jsx)(p,{isCredential:!0}):(0,s.jsx)(e,f({},r)):(0,s.jsx)(p,{isCredential:m})};return r}var p=function(e){var n=e.isCredential;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Sd,{title:"N\xe3o Autorizado"}),(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i().push(n?d.M.HOME:d.M.LOGIN)},className:"".concat(m().notAuth," rounded"),children:[(0,s.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,s.jsx)(c.z,{label:"Voltar"})]})]})}},3459:function(e,n,r){"use strict";r.d(n,{z:function(){return d},M:function(){return u}});var s=r(5893),t=(r(7294),r(4931)),i=r(9363),a=r(2429),o=r.n(a),l=r(7041),c=r.n(l),d=function(e){var n=e.label,r=e.onClick;return(0,s.jsxs)("button",{type:"submit",onClick:r,className:c().buttonBorder,children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),n]})},u=function(e){var n=e.isLogin,r=e.label,a=e.register,l=e.errors,c=n?"ENTRAR":"CADASTRAR",u=["name","cpf","birthDate","email","password"],m={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},h=function(e){t.ZP.error(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl",children:r}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:o().credentialsInput}),(0,s.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:o().credentialsInput}),(0,s.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:o().credentialsInput})]}),(0,s.jsx)(i.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:o().credentialsInput}),(0,s.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:o().credentialsInput,type:"password"}),(0,s.jsx)(d,{onClick:function(){u.forEach((function(e){var n,r,s;"required"===(null===(n=l[e])||void 0===n?void 0:n.type)&&h(m[e].required),"pattern"===(null===(r=l[e])||void 0===r?void 0:r.type)&&h(m[e].pattern),"min"===(null===(s=l[e])||void 0===s?void 0:s.type)&&h(m[e].min)}))},label:c})]})}},2007:function(e,n,r){"use strict";r.d(n,{h:function(){return j},o:function(){return g}});var s=r(5893),t=r(1163),i=r.n(t),a=r(7294),o=r(7516),l=r(3377),c=r(4959),d=r.n(c),u=r(8193),m=r(471),h=r(2585),f=r(8929),_=r(6518),p=r.n(_),x=function(){var e=(0,f.S)().userData;return(0,s.jsxs)("div",{className:p().dropdown,children:[(0,s.jsx)("a",{className:p().label,children:(0,s.jsx)(u.qTj,{size:20})}),(0,s.jsxs)("ul",{className:p().items,children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:l.M.PROFILE,children:[(0,s.jsx)(m.Mdg,{size:27,className:p().faBrands}),"Perfil"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:l.M.HOME,children:[(0,s.jsx)(o.DaR,{size:27,className:p().faBrands}),"Menu"]})}),(null===e||void 0===e?void 0:e.isAdmin)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:l.M.CREATE_BUS,children:[(0,s.jsx)(h.JSW,{size:27,className:p().faBrands}),"Cadastrar"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:l.M.BUS,children:[(0,s.jsx)(o.BEE,{size:27,className:p().faBrands}),"\xd4nibus"]})})]}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:l.M.LOGOUT,children:[(0,s.jsx)(o.sSc,{size:27,className:p().faBrands}),"Sair"]})})]})]})},j=function(){var e=(0,a.useState)(""),n=e[0],r=e[1];return(0,s.jsxs)("header",{className:"".concat(d().header),children:[(0,s.jsx)(x,{}),(0,s.jsxs)("div",{className:"".concat(d().searchBox),children:[(0,s.jsx)("input",{type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"Procure pela Linha do \xd4nibus",onKeyDown:function(e){if("Enter"==e.code)return i().push("".concat(l.M.SEARCH_BUS,"?line=").concat(n))},className:d().searchInput}),(0,s.jsx)("a",{href:"".concat(l.M.SEARCH_BUS,"?line=").concat(n),className:d().searchBtn,children:(0,s.jsx)(o.Goc,{})})]}),(0,s.jsx)("h1",{children:"BusTime"})]})},b=r(5621),v=r(9363),N=r(1173),I=r(2866),g=function(){var e=(0,f.S)().userData,n=(0,a.useState)(),r=n[0],t=n[1],o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;N.z.get("".concat(b.M.LIST_BUS,"?size=").concat(n,"&page=").concat(e)).then((function(e){return t(e.data)}))};return(0,a.useEffect)((function(){o(0)}),[]),(0,s.jsxs)("main",{className:d().homeMain,children:[(null===e||void 0===e?void 0:e.isAdmin)&&(0,s.jsxs)("div",{className:d().busDescription,children:[(0,s.jsx)("p",{children:"\xc9 respons\xe1vel por alguma rota de \xf4nibus? Registre ela agora!"}),(0,s.jsx)(v.zx,{onClick:function(){i().push(l.M.CREATE_BUS)},className:"my-4",btnLabel:"Cadastrar"})]}),(0,s.jsxs)("div",{className:d().busList,children:[(0,s.jsx)("p",{children:"Veja agora os hor\xe1rios de \xf4nibus:"}),0!==(null===r||void 0===r?void 0:r.content.length)&&(null===r||void 0===r?void 0:r.content)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:d().list,children:null===r||void 0===r?void 0:r.content.map((function(e){return(0,s.jsx)(I.V,{bus:e},e.id)}))}),r&&(0,s.jsx)(v.tl,{showTotal:!0,reloadItens:o,pagination:r})]}):(0,s.jsx)("p",{style:{color:"#fff"},children:"Nenhum \xf4nibus a ser exibido"})]})]})}},2866:function(e,n,r){"use strict";r.d(n,{V:function(){return a}});var s=r(5893),t=(r(7294),r(4959)),i=r.n(t),a=function(e){var n=e.bus;return(0,s.jsxs)("div",{className:i().listItem,children:[(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Linha: "}),n.line]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Hor\xe1rio: "}),n.hour]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Passagem: "}),"R$",n.ticketPrice]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Incial: "}),n.inicialRoute]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Final: "}),n.finalRoute]}),(0,s.jsxs)("div",{className:i().fieldItem,children:[(0,s.jsx)("b",{children:"N\xfamero: "}),n.busNumber]})]})}},3377:function(e,n,r){"use strict";r.d(n,{M:function(){return s}});var s={LOGIN:"/login",REGISTER:"/register",CREATE_BUS:"/create-bus",HOME:"/home",PROFILE:"/profile",PROFILE_UPDATE:"/profile/update",BUS:"/bus",LOGOUT:"/logout",UPDATE_BUS:"/update-bus",SEARCH_BUS:"/search-bus"}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},4959:function(e){e.exports={home:"Home_home__NtsD3",header:"Home_header__Ra6e4",searchBox:"Home_searchBox__z_tZa",searchInput:"Home_searchInput__wJXwE",searchBtn:"Home_searchBtn__i34iE",homeMain:"Home_homeMain__PPaXi",busDescription:"Home_busDescription__yi9NT",busList:"Home_busList__IUmdF",list:"Home_list__8Hj5e",listItem:"Home_listItem__4FC7j",fieldItem:"Home_fieldItem__4d_6l"}},6518:function(e){e.exports={dropdown:"Dropdown_dropdown__RTKFo",items:"Dropdown_items__AxuVI",faBrands:"Dropdown_faBrands__vVX4r",label:"Dropdown_label__ZyQIb"}}}]);