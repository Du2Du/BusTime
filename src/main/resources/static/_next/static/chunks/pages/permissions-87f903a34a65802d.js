(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{9346:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissions",function(){return n(4128)}])},4128:function(s,e,n){"use strict";n.r(e),n.d(e,{default:function(){return S}});var i=n(5893),r=n(1163),a=n.n(r),t=n(7294),u=n(790),l=n(8929),o=n(5244),c=n(2007),m=n(5621),d=n(8058),f=n(3377),v=n(1173),x=n(7962),h=n(4931),_=n(6052),p=n.n(_),N=function(s){var e,n=s.user;if(!(0,l.S)().userData)return(0,i.jsx)(i.Fragment,{});var r=(0,t.useState)(null===n||void 0===n||null===(e=n.permissionsGroup)||void 0===e?void 0:e.name),a=r[0],o=r[1],c=(0,d.l)(),f=c.setFalse,_=c.setTrue,N=[{label:"Passageiro",value:x.s6.DEFAULT},{label:"Administrador",value:x.s6.ADMINISTRATOR},{label:"Super Administrador",value:x.s6.SUPER_ADMINISTRATOR}];return(0,i.jsxs)("div",{className:p().userItem,children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("b",{className:"mx-2",children:"Nome:"}),(0,i.jsx)("p",{children:n.name})]}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("b",{className:"mx-2",children:"Email:"}),(0,i.jsx)("p",{children:n.email})]}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Ph,{initialValue:null!==a&&void 0!==a?a:x.s6.DEFAULT,onChange:function(s){_(),v.z.put("".concat(m.M.CHANGE_ADMIN,"/").concat(n.id),{permissionGroup:s.currentTarget.value}).then((function(s){var e;o(null===(e=s.data.permissionsGroup)||void 0===e?void 0:e.name),h.ZP.success("Permiss\xe3o alterada com sucesso!")})).catch(x.x2).finally(f)},options:N,extraCss:"ml-2 my-1"})})]})},j=function(){var s=(0,t.useState)([]),e=s[0],n=s[1],r=(0,d.l)(),l=r.setTrue,o=r.setFalse;return(0,t.useEffect)((function(){l(),v.z.get(m.M.LIST_USERS).then((function(s){n(s.data)})).catch(x.x2).finally(o)}),[]),(0,i.jsxs)("div",{className:p().permissions,children:[(0,i.jsx)(u.zx,{className:"mb-3",btnLabel:"Listar Permiss\xf5es",onClick:function(){return a().push(f.M.PERMISSIONS_LIST)}}),(0,i.jsx)("div",{className:p().usersList,children:null===e||void 0===e?void 0:e.map((function(s){return(0,i.jsx)(N,{user:s},s.id)}))})]})},S=(0,o.m)((function(){var s=(0,l.S)(),e=s.userData,n=s.verifyPermissionsGroup;return(0,t.useEffect)((function(){n(x.s6.SUPER_ADMINISTRATOR)||a().push(f.M.HOME)}),[e]),(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Sd,{title:"Permiss\xf5es"}),(0,i.jsx)(c.h,{}),(0,i.jsx)(j,{})]})}),!0)},6052:function(s){s.exports={permissions:"Permissions_permissions__KhGg9",usersList:"Permissions_usersList__9heT5",userItem:"Permissions_userItem__wMgJ0"}}},function(s){s.O(0,[980,617,955,874,791,774,888,179],(function(){return e=9346,s(s.s=e);var e}));var e=s.O();_N_E=e}]);