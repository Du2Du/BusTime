(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{3943:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/update",function(){return n(9058)}])},5244:function(e,t,n){"use strict";n.d(t,{m:function(){return _}});var i=n(5893),r=n(1163),a=n.n(r);n(7294);var s=n(8744),l=n(8929),d=n(8058),o=n(3459),c=n(3377),u=n(7658),m=n.n(u);function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){let{userData:s,isAdmin:d,isSuperAdmin:o}=(0,l.S)(),{pathname:u}=(0,r.useRouter)(),m=u===c.M.LOGIN||u===c.M.REGISTER||"/"===u;return m?s?(0,i.jsx)(f,{isCredential:m}):(0,i.jsx)(e,{...a}):s?n?o?(0,i.jsx)(e,{...a}):(0,i.jsx)(f,{isCredential:!0}):t?d?(0,i.jsx)(e,{...a}):(0,i.jsx)(f,{isCredential:!0}):(0,i.jsx)(e,{...a}):(0,i.jsx)(f,{isCredential:m})}}let f=e=>{let{isCredential:t}=e,{setTrue:n,setFalse:r}=(0,d.l)(),l=e=>{e.preventDefault(),n(),a().push(t?c.M.HOME:c.M.LOGIN).finally(r)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Sd,{title:"N\xe3o Autorizado"}),(0,i.jsxs)("form",{onSubmit:l,className:"".concat(m().notAuth," rounded"),children:[(0,i.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,i.jsx)(o.z,{label:"Voltar"})]})]})}},3459:function(e,t,n){"use strict";n.d(t,{z:function(){return c},M:function(){return u}});var i=n(5893);n(7294);var r=n(4931),a=n(8744),s=n(2429),l=n.n(s),d=n(7041),o=n.n(d);let c=e=>{let{label:t,onClick:n}=e;return(0,i.jsxs)("button",{type:"submit",onClick:n,className:o().buttonBorder,children:[(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),(0,i.jsx)("span",{}),t]})},u=e=>{let{isLogin:t,label:n,register:s,errors:d}=e,o=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{r.ZP.error(e)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"text-2xl",children:n}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,i.jsx)(a.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:l().credentialsInput}),(0,i.jsx)(a.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,i.jsx)(a.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,i.jsx)(a.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,i.jsx)(c,{onClick(){o.forEach(e=>{var t,n,i;(null===(t=d[e])||void 0===t?void 0:t.type)==="required"&&m(u[e].required),(null===(n=d[e])||void 0===n?void 0:n.type)==="pattern"&&m(u[e].pattern),(null===(i=d[e])||void 0===i?void 0:i.type)==="min"&&m(u[e].min)})},label:t?"ENTRAR":"CADASTRAR"})]})}},5021:function(e,t,n){"use strict";n.d(t,{o:function(){return h}});var i=n(5893),r=n(1163),a=n.n(r),s=n(7294),l=n(7536),d=n(4931),o=n(5621),c=n(8744),u=n(8929),m=n(8058),_=n(3377),f=n(1173),p=n(7962),x=n(6997),b=n.n(x);let h=e=>{let{isUpdate:t=!1}=e,{userData:n,getUser:r}=(0,u.S)(),{register:x,handleSubmit:h,setValue:j}=(0,l.cI)(),{setTrue:N,setFalse:v}=(0,m.l)(),g=e=>{t&&(null==n?void 0:n.id)&&(N(),f.z.put("".concat(o.M.UPDATE_USER,"/").concat(n.id),{...e,id:n.id}).then(()=>{d.ZP.success("Perfil atualizado com sucesso!"),a().push(_.M.PROFILE),r()}).catch(p.x2).finally(v))},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(null==e?void 0:e.id){let t=e.birthDate.split("/"),i=new Date(Number(t[2]),Number(t[1]),Number(t[0])),r=i.getUTCDate(),a=String(i.getMonth()+1),s=i.getFullYear();var l="";1===a.length&&(l="0".concat(a));let d="".concat(r,"/").concat(l,"/").concat(s);["name","email","birthDate","id"].forEach(t=>"birthDate"===t?j(t,d):j(t,e[t]))}};(0,s.useEffect)(()=>{E()},[n]);let C=e=>()=>{N(),a().push(e?_.M.PROFILE_UPDATE:_.M.PROFILE)};return(0,i.jsxs)("form",{onSubmit:h(g),className:b().form,children:[(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("h2",{className:b().title,children:"Dados Pessoais"}),!t&&(0,i.jsx)(c.zx,{className:"mt-3 ",btnLabel:"Alterar",onClick:C(!0)})]}),(0,i.jsxs)("div",{className:b().fieldsUser,children:[(0,i.jsxs)("div",{className:b().fields,children:[(0,i.jsx)("label",{children:"Nome:"}),(0,i.jsx)(c.Jc,{className:b().input,disabled:!t,register:x("name")})]}),(0,i.jsxs)("div",{className:b().fields,children:[(0,i.jsx)("label",{children:"E-mail:"}),(0,i.jsx)(c.Jc,{className:b().input,disabled:!0,register:x("email")})]}),(0,i.jsxs)("div",{className:b().fields,children:[(0,i.jsx)("label",{children:"Data de Nascimento:"}),(0,i.jsx)(c.Jc,{className:b().input,disabled:!t,register:x("birthDate")})]})]}),t&&(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(c.zx,{type:"submit",btnLabel:"Salvar"}),(0,i.jsx)(c.RE,{onClick:C(!1),className:"ml-3",type:"button",btnLabel:"Voltar"})]})]})}},9058:function(e,t,n){"use strict";n.r(t);var i=n(5893);n(7294);var r=n(8744),a=n(5244),s=n(5021),l=n(6997),d=n.n(l);let o=(0,a.m)(()=>(0,i.jsxs)("div",{className:d().profile,children:[(0,i.jsx)(r.Sd,{title:"Perfil"}),(0,i.jsx)(s.o,{isUpdate:!0})]}));t.default=o},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},6997:function(e){e.exports={profile:"Profile_profile__NYN_1",fieldsUser:"Profile_fieldsUser__zAgnw",fields:"Profile_fields__iWsJB",title:"Profile_title__1LYp5",input:"Profile_input__4T_MZ",buttonSave:"Profile_buttonSave__TnPAv",form:"Profile_form__M0FcQ"}}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=3943)}),_N_E=e.O()}]);