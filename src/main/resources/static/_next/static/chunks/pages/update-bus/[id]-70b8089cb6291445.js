(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{1979:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-bus/[id]",function(){return r(8514)}])},5218:function(e,t,r){"use strict";r.d(t,{$:function(){return m}});var n=r(5893),a=r(1163),i=r.n(a),s=r(7294),u=r(7536),c=r(9363),l=r(8929),o=r(3377),f=r(4780),b=r.n(f);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){var t=e.sendingData,r=e.isCreate,a=void 0!==r&&r,f=e.fieldValues,m=(0,u.cI)(),g=m.register,p=m.handleSubmit,y=m.setValue,h=(m.getValues,(0,l.S)().userData);(0,s.useEffect)((function(){if(f){var e=["line","hour","ticketPrice","inicialRoute","finalRoute","busNumber"];null===e||void 0===e||e.forEach((function(e){return y(e,f[e])}))}}),[f]);return(0,n.jsxs)("section",{className:b().section,children:[(0,n.jsxs)("h1",{className:"text-3xl mb-3",children:[a?"Registre":"Atualize"," agora uma Rota"]}),(0,n.jsxs)("form",{onSubmit:p((function(e){if(null===h||void 0===h?void 0:h.id){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({},e,{idUserAdmin:h.id});t(r)}})),className:"fields",children:[(0,n.jsx)(c.II,{register:g("line",{required:!!a}),className:"my-2",label:"Linha",placeHolder:"Linha"}),(0,n.jsx)(c.II,{register:g("hour",{required:!!a}),className:"my-2",label:"Hor\xe1rio",placeHolder:"Hor\xe1rio"}),(0,n.jsx)(c.II,{register:g("ticketPrice",{required:!!a,valueAsNumber:!0}),className:"my-2",label:"Pre\xe7o da Passagem",placeHolder:"Pre\xe7o da Passagem"}),(0,n.jsx)(c.II,{register:g("inicialRoute",{required:!!a}),className:"my-2",label:"Rota Inicial",placeholder:"Rota Inicial"}),(0,n.jsx)(c.II,{register:g("finalRoute",{required:!!a}),className:"my-2",label:"Rota Final",placeHolder:"Rota Final"}),(0,n.jsx)(c.II,{register:g("busNumber",{required:!!a}),className:"my-2",label:"N\xfamero",placeHolder:"N\xfamero"}),(0,n.jsx)(c.zx,{type:"submit",btnLabel:a?"Cadastrar":"Salvar",className:"mb-4 mt-3"}),!a&&(0,n.jsx)(c.RE,{type:"button",onClick:function(){i().push(o.M.BUS)},btnLabel:"Voltar",className:"mb-4 ml-2 mt-3"})]})]})}},8514:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(1163),i=r(7294),s=r(4931),u=r(5621),c=r(9363),l=r(8929),o=r(5244),f=r(8058),b=r(5218),d=r(2007),m=r(1173),g=r(1425);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,o.m)((function(){(0,l.S)().userData;var e=(0,i.useState)(),t=e[0],r=e[1],o=(0,f.l)(),y=o.setTrue,h=o.setFalse,j=(0,a.useRouter)().query.id;return(0,i.useEffect)((function(){j&&(y(),m.z.get("".concat(u.M.LIST_BUS,"/").concat(j)).then((function(e){var t=e.data;r(t)})).catch(g.x).finally(h))}),[j]),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Sd,{title:"Atualizar \xd4nibus"}),(0,n.jsx)(d.h,{}),(0,n.jsx)(b.$,{fieldValues:t,sendingData:function(e){y(),m.z.put("".concat(u.M.CREATE_BUS,"/").concat(j),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){p(e,t,r[t])}))}return e}({},e,{id:j})).then((function(){s.ZP.success("\xd4nibus atualizado com sucesso!")})).catch(g.x).finally(h)}})]})}),!0);t.default=y},4780:function(e){e.exports={section:"BusPage_section__HyCCq",field:"BusPage_field__jri_z",back:"BusPage_back__G85x0"}}},function(e){e.O(0,[980,617,955,874,536,791,774,888,179],(function(){return t=1979,e(e.s=t);var t}));var t=e.O();_N_E=t}]);