(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{2360:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissions",function(){return t(4128)}])},5244:function(e,n,t){"use strict";t.d(n,{m:function(){return p}});var s=t(5893),r=t(1163),i=t.n(r);t(7294);var a=t(8744),l=t(8929),o=t(8058),d=t(3459),c=t(3377),u=t(7658),m=t.n(u);function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i){let{userData:a,isAdmin:o,isSuperAdmin:d}=(0,l.S)(),{pathname:u}=(0,r.useRouter)(),m=u===c.M.LOGIN||u===c.M.REGISTER||"/"===u;return m?a?(0,s.jsx)(x,{isCredential:m}):(0,s.jsx)(e,{...i}):a?t?d?(0,s.jsx)(e,{...i}):(0,s.jsx)(x,{isCredential:!0}):n?o?(0,s.jsx)(e,{...i}):(0,s.jsx)(x,{isCredential:!0}):(0,s.jsx)(e,{...i}):(0,s.jsx)(x,{isCredential:m})}}let x=e=>{let{isCredential:n}=e,{setTrue:t,setFalse:r}=(0,o.l)(),l=e=>{e.preventDefault(),t(),i().push(n?c.M.HOME:c.M.LOGIN).finally(r)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Sd,{title:"N\xe3o Autorizado"}),(0,s.jsxs)("form",{onSubmit:l,className:"".concat(m().notAuth," rounded"),children:[(0,s.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,s.jsx)(d.z,{label:"Voltar"})]})]})}},3459:function(e,n,t){"use strict";t.d(n,{z:function(){return c},M:function(){return u}});var s=t(5893);t(7294);var r=t(4931),i=t(8744),a=t(2429),l=t.n(a),o=t(7041),d=t.n(o);let c=e=>{let{label:n,onClick:t}=e;return(0,s.jsxs)("button",{type:"submit",onClick:t,className:d().buttonBorder,children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),n]})},u=e=>{let{isLogin:n,label:t,register:a,errors:o}=e,d=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{r.ZP.error(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl",children:t}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,s.jsx)(i.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,s.jsx)(c,{onClick(){d.forEach(e=>{var n,t,s;(null===(n=o[e])||void 0===n?void 0:n.type)==="required"&&m(u[e].required),(null===(t=o[e])||void 0===t?void 0:t.type)==="pattern"&&m(u[e].pattern),(null===(s=o[e])||void 0===s?void 0:s.type)==="min"&&m(u[e].min)})},label:n?"ENTRAR":"CADASTRAR"})]})}},4128:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var s=t(5893),r=t(7294),i=t(8744),a=t(5244),l=t(1163),o=t.n(l),d=t(5621),c=t(8058),u=t(3377),m=t(1173),p=t(7962),x=t(4931),_=t(8929),f=t(6052),h=t.n(f);let j=e=>{var n;let{user:t}=e,{userData:a}=(0,_.S)(),[l,o]=(0,r.useState)(null==t?void 0:null===(n=t.permissionsGroup)||void 0===n?void 0:n.name),{setFalse:u,setTrue:f}=(0,c.l)(),j=[{label:"Passageiro",value:p.s6.DEFAULT},{label:"Administrador",value:p.s6.ADMINISTRATOR},{label:"Super Administrador",value:p.s6.SUPER_ADMINISTRATOR}],b=e=>{f(),m.z.put("".concat(d.M.CHANGE_ADMIN,"/").concat(t.id),{permissionGroup:e.currentTarget.value}).then(e=>{var n;o(null===(n=e.data.permissionsGroup)||void 0===n?void 0:n.name),x.ZP.success("Permiss\xe3o alterada com sucesso!")}).catch(p.x2).finally(u)};return a?(0,s.jsxs)("div",{className:h().userItem,children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("b",{className:"mx-2",children:"Nome:"}),(0,s.jsx)("p",{children:t.name})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("b",{className:"mx-2",children:"Email:"}),(0,s.jsx)("p",{children:t.email})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.Ph,{initialValue:null!=l?l:p.s6.DEFAULT,onChange:b,options:j,extraCss:"ml-2 my-1"})})]}):null},b=()=>{let[e,n]=(0,r.useState)(),{setTrue:t,setFalse:a}=(0,c.l)(),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t(),m.z.get("".concat(d.M.LIST_USERS,"?&size=5&page=").concat(e)).then(e=>{n(e.data)}).catch(p.x2).finally(a)};return(0,r.useEffect)(()=>{l()},[]),(0,s.jsxs)("div",{className:h().permissions,children:[(0,s.jsx)(i.zx,{className:"mb-3",btnLabel:"Listar Permiss\xf5es",onClick:()=>o().push(u.M.PERMISSIONS_LIST)}),(0,s.jsx)("div",{className:h().usersList,children:null==e?void 0:e.content.map(e=>(0,s.jsx)(j,{user:e},e.id))}),e&&(0,s.jsx)(i.tl,{pagination:e,reloadItens:l})]})},v=(0,a.m)(()=>(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Sd,{title:"Permiss\xf5es"}),(0,s.jsx)(b,{})]}),!0,!0);var N=v},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},6052:function(e){e.exports={permissions:"Permissions_permissions__KhGg9",usersList:"Permissions_usersList__9heT5",userItem:"Permissions_userItem__wMgJ0"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2360)}),_N_E=e.O()}]);