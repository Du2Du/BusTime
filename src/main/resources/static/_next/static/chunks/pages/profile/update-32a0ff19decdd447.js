(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{1211:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/update",function(){return n(9058)}])},5244:function(e,t,n){"use strict";n.d(t,{m:function(){return b}});var r=n(5893),i=n(1163),a=n.n(i),s=(n(7294),n(4568)),l=n(8929),o=n(8058),c=n(3459),u=n(3377),d=n(7658),f=n.n(d);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(a){var s=(0,l.S)(),o=s.userData,c=s.isAdmin,d=s.isSuperAdmin,f=(0,i.useRouter)().pathname,m=f===u.M.LOGIN||f===u.M.REGISTER||"/"===f;return m?o?(0,r.jsx)(_,{isCredential:m}):(0,r.jsx)(e,p({},a)):o?n?d?(0,r.jsx)(e,p({},a)):(0,r.jsx)(_,{isCredential:!0}):t?c?(0,r.jsx)(e,p({},a)):(0,r.jsx)(_,{isCredential:!0}):(0,r.jsx)(e,p({},a)):(0,r.jsx)(_,{isCredential:m})};return a}var _=function(e){var t=e.isCredential,n=(0,o.l)(),i=n.setTrue,l=n.setFalse;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Sd,{title:"N\xe3o Autorizado"}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(),a().push(t?u.M.HOME:u.M.LOGIN).finally(l)},className:"".concat(f().notAuth," rounded"),children:[(0,r.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,r.jsx)(c.z,{label:"Voltar"})]})]})}},3459:function(e,t,n){"use strict";n.d(t,{z:function(){return u},M:function(){return d}});var r=n(5893),i=(n(7294),n(4931)),a=n(4568),s=n(2429),l=n.n(s),o=n(7041),c=n.n(o),u=function(e){var t=e.label,n=e.onClick;return(0,r.jsxs)("button",{type:"submit",onClick:n,className:c().buttonBorder,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),t]})},d=function(e){var t=e.isLogin,n=e.label,s=e.register,o=e.errors,c=t?"ENTRAR":"CADASTRAR",d=["name","cpf","birthDate","email","password"],f={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=function(e){i.ZP.error(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl",children:n}),!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,r.jsx)(a.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,r.jsx)(u,{onClick:function(){d.forEach((function(e){var t,n,r;"required"===(null===(t=o[e])||void 0===t?void 0:t.type)&&m(f[e].required),"pattern"===(null===(n=o[e])||void 0===n?void 0:n.type)&&m(f[e].pattern),"min"===(null===(r=o[e])||void 0===r?void 0:r.type)&&m(f[e].min)}))},label:c})]})}},5021:function(e,t,n){"use strict";n.d(t,{o:function(){return j}});var r=n(5893),i=n(1163),a=n.n(i),s=n(7294),l=n(7536),o=n(4931),c=n(5621),u=n(4568),d=n(8929),f=n(8058),m=n(3377),p=n(1173),b=n(7962),_=n(6997),h=n.n(_);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){var t=e.isUpdate,n=void 0!==t&&t,i=(0,d.S)(),_=i.userData,j=i.getUser,v=(0,l.cI)(),g=v.register,N=v.handleSubmit,y=v.setValue,P=(0,f.l)(),O=P.setTrue,E=P.setFalse;(0,s.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;if(null===e||void 0===e?void 0:e.id){var t=["name","email","birthDate","id"],n=e.birthDate.split("/"),r=new Date(Number(n[2]),Number(n[1]),Number(n[0])),i=r.getUTCDate(),a=String(r.getMonth()+1),s=r.getFullYear(),l="";1===a.length&&(l="0".concat(a));var o="".concat(i,"/").concat(l,"/").concat(s);t.forEach((function(t){return y(t,"birthDate"===t?o:e[t])}))}}()}),[_]);var C=function(e){return function(){O(),a().push(e?m.M.PROFILE_UPDATE:m.M.PROFILE)}};return(0,r.jsxs)("form",{onSubmit:N((function(e){n&&(null===_||void 0===_?void 0:_.id)&&(O(),p.z.put("".concat(c.M.UPDATE_USER,"/").concat(_.id),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},e,{id:_.id})).then((function(){o.ZP.success("Perfil atualizado com sucesso!"),a().push(m.M.PROFILE),j()})).catch(b.x2).finally(E))})),className:h().form,children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("h2",{className:h().title,children:"Dados Pessoais"}),!n&&(0,r.jsx)(u.zx,{className:"mt-3 ",btnLabel:"Alterar",onClick:C(!0)})]}),(0,r.jsxs)("div",{className:h().fieldsUser,children:[(0,r.jsxs)("div",{className:h().fields,children:[(0,r.jsx)("label",{children:"Nome:"}),(0,r.jsx)(u.Jc,{className:h().input,disabled:!n,register:g("name")})]}),(0,r.jsxs)("div",{className:h().fields,children:[(0,r.jsx)("label",{children:"E-mail:"}),(0,r.jsx)(u.Jc,{className:h().input,disabled:!0,register:g("email")})]}),(0,r.jsxs)("div",{className:h().fields,children:[(0,r.jsx)("label",{children:"Data de Nascimento:"}),(0,r.jsx)(u.Jc,{className:h().input,disabled:!n,register:g("birthDate")})]})]}),n&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(u.zx,{type:"submit",btnLabel:"Salvar"}),(0,r.jsx)(u.RE,{onClick:C(!1),className:"ml-3",type:"button",btnLabel:"Voltar"})]})]})}},9058:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=(n(7294),n(4568)),a=n(5244),s=n(5021),l=n(6997),o=n.n(l),c=(0,a.m)((function(){return(0,r.jsxs)("div",{className:o().profile,children:[(0,r.jsx)(i.Sd,{title:"Perfil"}),(0,r.jsx)(s.o,{isUpdate:!0})]})}));t.default=c},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},6997:function(e){e.exports={profile:"Profile_profile__NYN_1",fieldsUser:"Profile_fieldsUser__zAgnw",fields:"Profile_fields__iWsJB",title:"Profile_title__1LYp5",input:"Profile_input__4T_MZ",buttonSave:"Profile_buttonSave__TnPAv",form:"Profile_form__M0FcQ"}}},function(e){e.O(0,[536,774,888,179],(function(){return t=1211,e(e.s=t);var t}));var t=e.O();_N_E=t}]);