(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{7183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return t(6018)}])},5244:function(e,n,t){"use strict";t.d(n,{m:function(){return f}});var r=t(5893),i=t(1163),s=t.n(i),a=t(7294),l=t(8744),d=t(8929),o=t(8058),c=t(3459),u=t(3377),m=t(7658),x=t.n(m);function f(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(s){let{userData:a,isAdmin:l,isSuperAdmin:o}=(0,d.S)(),{pathname:c}=(0,i.useRouter)(),m=c===u.M.LOGIN||c===u.M.REGISTER||"/"===c;return m?a?(0,r.jsx)(p,{isCredential:m}):(0,r.jsx)(e,{...s}):a?t?o?(0,r.jsx)(e,{...s}):(0,r.jsx)(p,{isCredential:!0}):n?l?(0,r.jsx)(e,{...s}):(0,r.jsx)(p,{isCredential:!0}):(0,r.jsx)(e,{...s}):(0,r.jsx)(p,{isCredential:m})}}let p=e=>{let{isCredential:n}=e,{setTrue:t,setFalse:i}=(0,o.l)(),d=e=>{e.preventDefault(),t(),s().push(n?u.M.HOME:u.M.LOGIN).finally(i)};return(0,a.useEffect)(()=>{s().push(n?u.M.HOME:u.M.LOGIN)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Sd,{title:"N\xe3o Autorizado"}),(0,r.jsxs)("form",{onSubmit:d,className:"".concat(x().notAuth," rounded"),children:[(0,r.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,r.jsx)(c.z,{label:"Voltar"})]})]})}},3459:function(e,n,t){"use strict";t.d(n,{z:function(){return c},M:function(){return u}});var r=t(5893);t(7294);var i=t(4931),s=t(8744),a=t(2429),l=t.n(a),d=t(7041),o=t.n(d);let c=e=>{let{label:n,onClick:t}=e;return(0,r.jsxs)("button",{type:"submit",onClick:t,className:o().buttonBorder,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),n]})},u=e=>{let{isLogin:n,label:t,register:a,errors:d}=e,o=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{i.ZP.error(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl",children:t}),!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,r.jsx)(s.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0}),id:"cpf",className:l().credentialsInput}),(0,r.jsx)(s.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,r.jsx)(s.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,r.jsx)(s.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,r.jsx)(c,{onClick(){o.forEach(e=>{var n,t,r;return(null===(n=d[e])||void 0===n?void 0:n.type)==="required"?m(u[e].required):(null===(t=d[e])||void 0===t?void 0:t.type)==="pattern"?m(u[e].pattern):(null===(r=d[e])||void 0===r?void 0:r.type)==="min"?m(u[e].min):void 0})},label:n?"ENTRAR":"CADASTRAR"})]})}},2866:function(e,n,t){"use strict";t.d(n,{V:function(){return p}});var r=t(5893),i=t(7294),s=t(4931),a=t(8193),l=t(5621),d=t(8929),o=t(8058),c=t(1173),u=t(7962),m=t(3797),x=t(4959),f=t.n(x);let p=e=>{let{bus:n,setFavoriteBus:t}=e,{setTrue:x,setFalse:p}=(0,o.l)(),{userData:h,getUser:j}=(0,d.S)(),[_,b]=(0,i.useState)(null==h?void 0:h.favoriteBus.find(e=>n.id===e.id)),v=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return()=>{x(),c.z.get("".concat(e?l.M.FAVORITE_BUS:l.M.DISFAVOR_BUS,"/").concat(n.id,"/").concat(e?"":null==h?void 0:h.id)).then(r=>{t&&t(r.data),b(r.data.find(e=>n.id===e.id)),s.ZP.success("\xd4nibus ".concat(e?"favoritado":"desfavoritado"," com sucesso!")),j()}).catch(u.x2).finally(p)}};return(0,r.jsxs)("div",{className:f().listItem,children:[(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"Linha: "}),n.lineBus.lineName]}),(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"Hor\xe1rio: "}),n.hour]}),(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"Passagem: "}),(0,m.sR)(String(n.ticketPrice))]}),(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"Rota Incial: "}),n.inicialRoute]}),(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"Rota Final: "}),n.finalRoute]}),(0,r.jsxs)("div",{className:f().fieldItem,children:[(0,r.jsx)("b",{children:"N\xfamero: "}),n.busNumber]}),(0,r.jsx)("div",{className:f().fieldItem,children:_?(0,r.jsx)(a.AiFillHeart,{size:30,className:"cursor-pointer",onClick:v(!1)}):(0,r.jsx)(a.AiOutlineHeart,{className:"cursor-pointer",size:30,onClick:v()})})]})}},6018:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(5893),i=t(1163),s=t.n(i),a=t(7294),l=t(8744),d=t(8929),o=t(5244),c=t(5621),u=t(3377),m=t(1173),x=t(4959),f=t.n(x),p=t(2866);let h=()=>{let[e,n]=(0,a.useState)(),{isAdmin:t}=(0,d.S)(),i=()=>{s().push(u.M.CREATE_BUS)},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;m.z.get("".concat(c.M.LIST_BUS,"?size=").concat(t,"&page=").concat(e)).then(e=>n(e.data))};return(0,a.useEffect)(()=>{m.z.get("".concat(c.M.LIST_BUS,"?size=4&page=0")).then(e=>n(e.data))},[]),(0,r.jsxs)("main",{className:f().homeMain,children:[t?(0,r.jsxs)("div",{className:f().busDescription,children:[(0,r.jsx)("p",{children:"\xc9 respons\xe1vel por alguma rota de \xf4nibus? Registre ela agora!"}),(0,r.jsx)(l.zx,{onClick:i,className:"my-4",btnLabel:"Cadastrar"})]}):null,(0,r.jsxs)("div",{className:f().busList,children:[(0,r.jsx)("p",{children:"Veja agora os hor\xe1rios de \xf4nibus:"}),(null==e?void 0:e.content.length)!==0&&(null==e?void 0:e.content)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:f().list,children:null==e?void 0:e.content.map(e=>(0,r.jsx)(p.V,{bus:e},e.id))}),e&&(0,r.jsx)(l.tl,{showTotal:!0,reloadItens:o,pagination:e})]}):(0,r.jsx)("p",{style:{color:"#fff"}})]})]})},j=(0,o.m)(()=>{let{userData:e}=(0,d.S)();return(0,a.useEffect)(()=>{e||s().reload()},[e]),(0,r.jsxs)("div",{className:f().home,children:[(0,r.jsx)(l.Sd,{title:"Home"}),(0,r.jsx)(h,{})]})});var _=j},3797:function(e,n,t){"use strict";t.d(n,{Cz:function(){return a},Fm:function(){return l},pM:function(){return s},sR:function(){return i}});let r=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});function i(e){return r.format(Number(e))}function s(e){var n,t;if(n=0,"00000000000"==e)return!1;for(let r=1;r<=9;r++)n+=parseInt(e.substring(r-1,r))*(11-r);if((10==(t=10*n%11)||11==t)&&(t=0),t!=parseInt(e.substring(9,10)))return!1;n=0;for(let i=1;i<=10;i++)n+=parseInt(e.substring(i-1,i))*(12-i);return(10==(t=10*n%11)||11==t)&&(t=0),t==parseInt(e.substring(10,11))}function a(e){return(e=e.replace(/[^\d]/g,"")).replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function l(e){return e[3].includes(".")&&e[7].includes(".")&&e[11].includes("-")}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7183)}),_N_E=e.O()}]);