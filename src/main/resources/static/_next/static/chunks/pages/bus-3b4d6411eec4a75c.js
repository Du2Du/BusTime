(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{1266:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bus",function(){return n(2600)}])},5244:function(e,t,n){"use strict";n.d(t,{m:function(){return x}});var s=n(5893),r=n(1163),i=n.n(r),a=n(7294),l=n(8744),c=n(8929),u=n(8058),d=n(3459),o=n(3377),m=n(7658),_=n.n(m);function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i){let{userData:a,isAdmin:l,isSuperAdmin:u}=(0,c.S)(),{pathname:d}=(0,r.useRouter)(),m=d===o.M.LOGIN||d===o.M.REGISTER||"/"===d;return m?a?(0,s.jsx)(p,{isCredential:m}):(0,s.jsx)(e,{...i}):a?n?u?(0,s.jsx)(e,{...i}):(0,s.jsx)(p,{isCredential:!0}):t?l?(0,s.jsx)(e,{...i}):(0,s.jsx)(p,{isCredential:!0}):(0,s.jsx)(e,{...i}):(0,s.jsx)(p,{isCredential:m})}}let p=e=>{let{isCredential:t}=e,{setTrue:n,setFalse:r}=(0,u.l)(),c=e=>{e.preventDefault(),n(),i().push(t?o.M.HOME:o.M.LOGIN).finally(r)};return(0,a.useEffect)(()=>{i().push(t?o.M.HOME:o.M.LOGIN)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Sd,{title:"N\xe3o Autorizado"}),(0,s.jsxs)("form",{onSubmit:c,className:"".concat(_().notAuth," rounded"),children:[(0,s.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,s.jsx)(d.z,{label:"Voltar"})]})]})}},3459:function(e,t,n){"use strict";n.d(t,{z:function(){return d},M:function(){return o}});var s=n(5893);n(7294);var r=n(4931),i=n(8744),a=n(2429),l=n.n(a),c=n(7041),u=n.n(c);let d=e=>{let{label:t,onClick:n}=e;return(0,s.jsxs)("button",{type:"submit",onClick:n,className:u().buttonBorder,children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),t]})},o=e=>{let{isLogin:t,label:n,register:a,errors:c}=e,u=["name","cpf","birthDate","email","password"],o={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{r.ZP.error(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-2xl",children:n}),!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0}),id:"cpf",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,s.jsx)(i.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,s.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,s.jsx)(d,{onClick(){u.forEach(e=>{var t,n,s;return(null===(t=c[e])||void 0===t?void 0:t.type)==="required"?m(o[e].required):(null===(n=c[e])||void 0===n?void 0:n.type)==="pattern"?m(o[e].pattern):(null===(s=c[e])||void 0===s?void 0:s.type)==="min"?m(o[e].min):void 0})},label:t?"ENTRAR":"CADASTRAR"})]})}},2600:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var s=n(5893),r=n(7294),i=n(8744),a=n(5244),l=n(1163),c=n.n(l),u=n(4931),d=n(9583),o=n(5621),m=n(8058),_=n(3377),x=n(1173),p=n(7962),f=n(3797),h=n(1268),b=n.n(h);let j=()=>{let[e,t]=(0,r.useState)([]),{setTrue:n,setFalse:i}=(0,m.l)();(0,r.useEffect)(()=>{a()},[]);let a=()=>{x.z.get("".concat(o.M.LIST_BUS_USER)).then(e=>t(e.data)).catch(p.x2)},l=e=>()=>{c().push("".concat(_.M.UPDATE_BUS,"/").concat(e))},h=e=>()=>{n(),x.z.delete("".concat(o.M.DELETE_BUS,"/").concat(e)).then(e=>{u.ZP.success("\xd4nibus excluido com sucesso!"),a()}).catch(p.x2).finally(i)};return(0,s.jsxs)("main",{className:b().mainBus,children:[(0,s.jsx)("h2",{className:b().title,children:"Rotas Criadas por Voc\xea"}),0===e.length?(0,s.jsx)("h2",{className:b().notBus,children:"Nenhuma Rota Criada"}):e.map(e=>(0,s.jsxs)("div",{className:b().busItem,children:[(0,s.jsxs)("div",{className:b().fields,children:[(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"Linha: "}),e.lineBus.lineName]}),(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"Hora: "}),e.hour]}),(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"Passagem: "}),(0,f.sR)(String(e.ticketPrice))]}),(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Incial: "}),e.inicialRoute]}),(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"Rota Final: "}),e.finalRoute]}),(0,s.jsxs)("div",{className:b().fieldItem,children:[(0,s.jsx)("b",{children:"N\xfamero: "}),e.busNumber]})]}),(0,s.jsx)("hr",{className:b().hr}),(0,s.jsxs)("div",{className:"flex justify-between items-center w-[100%]",children:[(0,s.jsx)("button",{type:"button",onClick:l(e.id),className:"".concat(b().update," mb-4 ml-2  mt-3"),children:"Alterar"}),(0,s.jsx)(d.FaTrash,{size:20,className:"cursor-pointer",color:"#7E4CCB",onClick:h(e.id)})]})]},e.id))]})},N=(0,a.m)(()=>(0,s.jsxs)("div",{className:b().listBus,children:[(0,s.jsx)(i.Sd,{title:"\xd4nibus"}),(0,s.jsx)(j,{})]}),!0);var I=N},3797:function(e,t,n){"use strict";n.d(t,{Cz:function(){return a},Fm:function(){return l},pM:function(){return i},sR:function(){return r}});let s=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});function r(e){return s.format(Number(e))}function i(e){var t,n;if(t=0,"00000000000"==e)return!1;for(let s=1;s<=9;s++)t+=parseInt(e.substring(s-1,s))*(11-s);if((10==(n=10*t%11)||11==n)&&(n=0),n!=parseInt(e.substring(9,10)))return!1;t=0;for(let r=1;r<=10;r++)t+=parseInt(e.substring(r-1,r))*(12-r);return(10==(n=10*t%11)||11==n)&&(n=0),n==parseInt(e.substring(10,11))}function a(e){return(e=e.replace(/[^\d]/g,"")).replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function l(e){return e[3].includes(".")&&e[7].includes(".")&&e[11].includes("-")}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},1268:function(e){e.exports={listBus:"Bus_listBus__SkuRn",mainBus:"Bus_mainBus__OshSO",busItem:"Bus_busItem__FnHJR",fieldItem:"Bus_fieldItem__kppC4",fields:"Bus_fields__0zlAM",title:"Bus_title__g1asz",notBus:"Bus_notBus__Ps_iK",hr:"Bus_hr__TkEX4",update:"Bus_update__f1FLY"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1266)}),_N_E=e.O()}]);