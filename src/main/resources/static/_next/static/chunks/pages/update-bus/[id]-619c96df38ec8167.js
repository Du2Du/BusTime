(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{1979:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-bus/[id]",function(){return t(8514)}])},5218:function(e,r,t){"use strict";t.d(r,{$:function(){return b}});var n=t(5893),a=t(1163),i=t.n(a),s=t(7294),o=t(7536),u=t(9363),c=t(8929),l=t(3377),f=t(4780),d=t.n(f);function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b=function(e){var r=e.sendingData,t=e.isCreate,a=void 0!==t&&t,f=e.fieldValues,b=(0,o.cI)(),g=b.register,p=b.handleSubmit,v=b.setValue,h=(b.getValues,(0,c.S)().userData);(0,s.useEffect)((function(){if(f){var e=["line","hour","ticketPrice","inicialRoute","finalRoute","busNumber"];null===e||void 0===e||e.forEach((function(e){return v(e,f[e])}))}}),[f]);return(0,n.jsxs)("section",{className:d().section,children:[(0,n.jsxs)("h1",{className:"text-3xl mb-3",children:[a?"Registre":"Atualize"," agora uma Rota"]}),(0,n.jsxs)("form",{onSubmit:p((function(e){if(null===h||void 0===h?void 0:h.id){var t=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}({},e,{idUserAdmin:h.id});r(t)}})),className:"fields",children:[(0,n.jsx)(u.II,{register:g("line",{required:!!a}),className:"my-2",label:"Linha",placeHolder:"Linha"}),(0,n.jsx)(u.II,{register:g("hour",{required:!!a}),className:"my-2",label:"Hor\xe1rio",placeHolder:"Hor\xe1rio"}),(0,n.jsx)(u.II,{register:g("ticketPrice",{required:!!a,valueAsNumber:!0}),className:"my-2",label:"Pre\xe7o da Passagem",placeHolder:"Pre\xe7o da Passagem"}),(0,n.jsx)(u.II,{register:g("inicialRoute",{required:!!a}),className:"my-2",label:"Rota Inicial",placeholder:"Rota Inicial"}),(0,n.jsx)(u.II,{register:g("finalRoute",{required:!!a}),className:"my-2",label:"Rota Final",placeHolder:"Rota Final"}),(0,n.jsx)(u.II,{register:g("busNumber",{required:!!a}),className:"my-2",label:"N\xfamero",placeHolder:"N\xfamero"}),(0,n.jsx)(u.zx,{type:"submit",btnLabel:a?"Cadastrar":"Salvar",className:"mb-4 mt-3"}),!a&&(0,n.jsx)(u.RE,{type:"button",onClick:function(){i().push(l.M.BUS)},btnLabel:"Voltar",className:"mb-4 ml-2 mt-3"})]})]})}},8514:function(e,r,t){"use strict";t.r(r);var n=t(5893),a=t(1163),i=t(7294),s=t(4931),o=t(5621),u=t(9363),c=t(8929),l=t(5244),f=t(8058),d=t(5218),m=t(2007),b=t(1173),g=t(2083);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var v=(0,l.m)((function(){(0,c.S)().userData;var e=(0,i.useState)(),r=e[0],t=e[1],l=(0,f.l)(),v=l.setTrue,h=l.setFalse,y=(0,a.useRouter)().query.id;return(0,i.useEffect)((function(){y&&b.z.get("".concat(o.M.LIST_BUS,"/").concat(y)).then((function(e){var r=e.data;t(r)})).catch(g.x)}),[y]),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.Sd,{title:"Atualizar \xd4nibus"}),(0,n.jsx)(m.h,{}),(0,n.jsx)(d.$,{fieldValues:r,sendingData:function(e){v(),b.z.put("".concat(o.M.CREATE_BUS,"/").concat(y),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}({},e,{id:y})).then((function(){s.ZP.success("\xd4nibus atualizado com sucesso!")})).catch(g.x).finally(h)}})]})}),!0);r.default=v},2083:function(e,r,t){"use strict";t.d(r,{x:function(){return a}});var n=t(4931),a=function(e){if(!(null===e||void 0===e?void 0:e.isCanceled)&&e){var r=e.response.data,t=r.message,a=r.errors;return a.length>0?n.Am.error(a[0]):t?n.Am.error(t):void n.Am.error("N\xe3o foi poss\xedvel fazer isso no momento")}}},4780:function(e){e.exports={section:"BusPage_section__HyCCq",field:"BusPage_field__jri_z",back:"BusPage_back__G85x0"}}},function(e){e.O(0,[980,617,955,874,998,791,774,888,179],(function(){return r=1979,e(e.s=r);var r}));var r=e.O();_N_E=r}]);