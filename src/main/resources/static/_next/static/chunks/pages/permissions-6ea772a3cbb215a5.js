(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{9346:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissions",function(){return r(4128)}])},5244:function(e,n,r){"use strict";r.d(n,{m:function(){return _}});var t=r(5893),i=r(1163),s=r.n(i),a=(r(7294),r(4568)),o=r(8929),l=r(8058),u=r(3459),c=r(3377),d=r(7658),m=r.n(d);function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){p(e,n,r[n])}))}return e}function _(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=function(s){var a=(0,o.S)(),l=a.userData,u=a.isAdmin,d=a.isSuperAdmin,m=(0,i.useRouter)().pathname,p=m===c.M.LOGIN||m===c.M.REGISTER||"/"===m;return p?l?(0,t.jsx)(x,{isCredential:p}):(0,t.jsx)(e,f({},s)):l?r?d?(0,t.jsx)(e,f({},s)):(0,t.jsx)(x,{isCredential:!0}):n?u?(0,t.jsx)(e,f({},s)):(0,t.jsx)(x,{isCredential:!0}):(0,t.jsx)(e,f({},s)):(0,t.jsx)(x,{isCredential:p})};return s}var x=function(e){var n=e.isCredential,r=(0,l.l)(),i=r.setTrue,o=r.setFalse;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Sd,{title:"N\xe3o Autorizado"}),(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(),s().push(n?c.M.HOME:c.M.LOGIN).finally(o)},className:"".concat(m().notAuth," rounded"),children:[(0,t.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,t.jsx)(u.z,{label:"Voltar"})]})]})}},3459:function(e,n,r){"use strict";r.d(n,{z:function(){return c},M:function(){return d}});var t=r(5893),i=(r(7294),r(4931)),s=r(4568),a=r(2429),o=r.n(a),l=r(7041),u=r.n(l),c=function(e){var n=e.label,r=e.onClick;return(0,t.jsxs)("button",{type:"submit",onClick:r,className:u().buttonBorder,children:[(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),n]})},d=function(e){var n=e.isLogin,r=e.label,a=e.register,l=e.errors,u=n?"ENTRAR":"CADASTRAR",d=["name","cpf","birthDate","email","password"],m={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},p=function(e){i.ZP.error(e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-2xl",children:r}),!n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.II,{label:"Nome",placeHolder:"Nome",register:a("name",{required:!0}),id:"name",className:o().credentialsInput}),(0,t.jsx)(s.II,{label:"CPF",placeHolder:"CPF",register:a("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:o().credentialsInput}),(0,t.jsx)(s.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:a("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:o().credentialsInput})]}),(0,t.jsx)(s.II,{label:"Email",placeHolder:"Email",register:a("email",{required:!0}),id:"email",type:"email",className:o().credentialsInput}),(0,t.jsx)(s.II,{label:"Senha",placeHolder:"Senha",id:"password",register:a("password",{required:!0,min:6}),className:o().credentialsInput,type:"password"}),(0,t.jsx)(c,{onClick:function(){d.forEach((function(e){var n,r,t;"required"===(null===(n=l[e])||void 0===n?void 0:n.type)&&p(m[e].required),"pattern"===(null===(r=l[e])||void 0===r?void 0:r.type)&&p(m[e].pattern),"min"===(null===(t=l[e])||void 0===t?void 0:t.type)&&p(m[e].min)}))},label:u})]})}},4128:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(5893),i=r(7294),s=r(4568),a=r(5244),o=r(1163),l=r.n(o),u=r(5621),c=r(8058),d=r(3377),m=r(1173),p=r(7962),f=r(4931),_=r(8929),x=r(6052),b=r.n(x),h=function(e){var n,r=e.user;if(!(0,_.S)().userData)return(0,t.jsx)(t.Fragment,{});var a=(0,i.useState)(null===r||void 0===r||null===(n=r.permissionsGroup)||void 0===n?void 0:n.name),o=a[0],l=a[1],d=(0,c.l)(),x=d.setFalse,h=d.setTrue,v=[{label:"Passageiro",value:p.s6.DEFAULT},{label:"Administrador",value:p.s6.ADMINISTRATOR},{label:"Super Administrador",value:p.s6.SUPER_ADMINISTRATOR}];return(0,t.jsxs)("div",{className:b().userItem,children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("b",{className:"mx-2",children:"Nome:"}),(0,t.jsx)("p",{children:r.name})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("b",{className:"mx-2",children:"Email:"}),(0,t.jsx)("p",{children:r.email})]}),(0,t.jsx)("div",{children:(0,t.jsx)(s.Ph,{initialValue:null!==o&&void 0!==o?o:p.s6.DEFAULT,onChange:function(e){h(),m.z.put("".concat(u.M.CHANGE_ADMIN,"/").concat(r.id),{permissionGroup:e.currentTarget.value}).then((function(e){var n;l(null===(n=e.data.permissionsGroup)||void 0===n?void 0:n.name),f.ZP.success("Permiss\xe3o alterada com sucesso!")})).catch(p.x2).finally(x)},options:v,extraCss:"ml-2 my-1"})})]})},v=function(){var e=(0,i.useState)(),n=e[0],r=e[1],a=(0,c.l)(),o=a.setTrue,f=a.setFalse,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(),m.z.get("".concat(u.M.LIST_USERS,"?&size=5&page=").concat(e)).then((function(e){r(e.data)})).catch(p.x2).finally(f)};return(0,i.useEffect)((function(){_()}),[]),(0,t.jsxs)("div",{className:b().permissions,children:[(0,t.jsx)(s.zx,{className:"mb-3",btnLabel:"Listar Permiss\xf5es",onClick:function(){return l().push(d.M.PERMISSIONS_LIST)}}),(0,t.jsx)("div",{className:b().usersList,children:null===n||void 0===n?void 0:n.content.map((function(e){return(0,t.jsx)(h,{user:e},e.id)}))}),n&&(0,t.jsx)(s.tl,{pagination:n,reloadItens:_})]})},j=(0,a.m)((function(){return(0,t.jsxs)("div",{children:[(0,t.jsx)(s.Sd,{title:"Permiss\xf5es"}),(0,t.jsx)(v,{})]})}),!0,!0)},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},6052:function(e){e.exports={permissions:"Permissions_permissions__KhGg9",usersList:"Permissions_usersList__9heT5",userItem:"Permissions_userItem__wMgJ0"}}},function(e){e.O(0,[774,888,179],(function(){return n=9346,e(e.s=n);var n}));var n=e.O();_N_E=n}]);