(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{5147:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-bus/[id]",function(){return a(8514)}])},5244:function(e,t,a){"use strict";a.d(t,{m:function(){return x}});var r=a(5893),n=a(1163),i=a.n(n);a(7294);var s=a(8744),l=a(8929),o=a(8058),d=a(3459),c=a(3377),u=a(7658),m=a.n(u);function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i){let{userData:s,isAdmin:o,isSuperAdmin:d}=(0,l.S)(),{pathname:u}=(0,n.useRouter)(),m=u===c.M.LOGIN||u===c.M.REGISTER||"/"===u;return m?s?(0,r.jsx)(p,{isCredential:m}):(0,r.jsx)(e,{...i}):s?a?d?(0,r.jsx)(e,{...i}):(0,r.jsx)(p,{isCredential:!0}):t?o?(0,r.jsx)(e,{...i}):(0,r.jsx)(p,{isCredential:!0}):(0,r.jsx)(e,{...i}):(0,r.jsx)(p,{isCredential:m})}}let p=e=>{let{isCredential:t}=e,{setTrue:a,setFalse:n}=(0,o.l)(),l=e=>{e.preventDefault(),a(),i().push(t?c.M.HOME:c.M.LOGIN).finally(n)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Sd,{title:"N\xe3o Autorizado"}),(0,r.jsxs)("form",{onSubmit:l,className:"".concat(m().notAuth," rounded"),children:[(0,r.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,r.jsx)(d.z,{label:"Voltar"})]})]})}},5218:function(e,t,a){"use strict";a.d(t,{$:function(){return p}});var r=a(5893),n=a(1163),i=a.n(n),s=a(7294),l=a(7536);a(4931),a(5621);var o=a(8744),d=a(8929),c=a(8058),u=a(3377);a(1173),a(7962);var m=a(4780),x=a.n(m);let p=e=>{let{sendingData:t,isCreate:a=!1,fieldValues:n}=e,{register:m,handleSubmit:p,setValue:_}=(0,l.cI)(),{setTrue:b,setFalse:f}=(0,c.l)(),{userData:h}=(0,d.S)();(0,s.useEffect)(()=>{if(n){let e=["lineBus","hour","ticketPrice","inicialRoute","finalRoute","busNumber"];null==e||e.forEach(e=>_(e,n[e]))}},[n]);let j=e=>{if(null==h?void 0:h.id){let a={...e,idUserAdmin:h.id};t(a)}},N=()=>{i().push(u.M.BUS)};return(0,r.jsxs)("section",{className:x().section,children:[(0,r.jsxs)("h1",{className:"text-3xl mb-3",children:[a?"Registre":"Atualize"," agora uma Rota"]}),(0,r.jsxs)("form",{onSubmit:p(j),className:"fields",children:[(0,r.jsx)(o.II,{register:m("lineBus.lineName",{required:!!a}),className:"my-2",label:"Linha",placeHolder:"Linha"}),(0,r.jsx)(o.II,{register:m("hour",{required:!!a}),className:"my-2",label:"Hor\xe1rio",placeHolder:"Hor\xe1rio"}),(0,r.jsx)(o.II,{register:m("ticketPrice",{required:!!a,valueAsNumber:!0}),className:"my-2",label:"Pre\xe7o da Passagem",placeHolder:"Pre\xe7o da Passagem"}),(0,r.jsx)(o.II,{register:m("inicialRoute",{required:!!a}),className:"my-2",label:"Rota Inicial",placeholder:"Rota Inicial"}),(0,r.jsx)(o.II,{register:m("finalRoute",{required:!!a}),className:"my-2",label:"Rota Final",placeHolder:"Rota Final"}),(0,r.jsx)(o.II,{register:m("busNumber",{required:!!a}),className:"my-2",label:"N\xfamero",placeHolder:"N\xfamero"}),(0,r.jsx)(o.zx,{type:"submit",btnLabel:a?"Cadastrar":"Salvar",className:"mb-4 mt-3"}),!a&&(0,r.jsx)(o.RE,{type:"button",onClick:N,btnLabel:"Voltar",className:"mb-4 ml-2 mt-3"})]})]})}},3459:function(e,t,a){"use strict";a.d(t,{z:function(){return c},M:function(){return u}});var r=a(5893);a(7294);var n=a(4931),i=a(8744),s=a(2429),l=a.n(s),o=a(7041),d=a.n(o);let c=e=>{let{label:t,onClick:a}=e;return(0,r.jsxs)("button",{type:"submit",onClick:a,className:d().buttonBorder,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),t]})},u=e=>{let{isLogin:t,label:a,register:s,errors:o}=e,d=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{n.ZP.error(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl",children:a}),!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,r.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:l().credentialsInput}),(0,r.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,r.jsx)(i.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,r.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,r.jsx)(c,{onClick(){d.forEach(e=>{var t,a,r;(null===(t=o[e])||void 0===t?void 0:t.type)==="required"&&m(u[e].required),(null===(a=o[e])||void 0===a?void 0:a.type)==="pattern"&&m(u[e].pattern),(null===(r=o[e])||void 0===r?void 0:r.type)==="min"&&m(u[e].min)})},label:t?"ENTRAR":"CADASTRAR"})]})}},8514:function(e,t,a){"use strict";a.r(t);var r=a(5893),n=a(1163),i=a(7294),s=a(4931),l=a(5621),o=a(8744),d=a(5244),c=a(8058),u=a(5218),m=a(1173),x=a(7962);let p=(0,d.m)(()=>{let[e,t]=(0,i.useState)(),{setTrue:a,setFalse:d}=(0,c.l)(),p=(0,n.useRouter)(),_=p.query.id,b=e=>{a(),m.z.put("".concat(l.M.CREATE_BUS,"/").concat(_),{...e,id:_}).then(()=>{s.ZP.success("\xd4nibus atualizado com sucesso!")}).catch(x.x2).finally(d)};return(0,i.useEffect)(()=>{_&&(a(),m.z.get("".concat(l.M.LIST_BUS,"/").concat(_)).then(e=>{let a=e.data;t(a)}).catch(x.x2).finally(d))},[_]),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Sd,{title:"Atualizar \xd4nibus"}),(0,r.jsx)(u.$,{fieldValues:e,sendingData:b})]})},!0);t.default=p},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},4780:function(e){e.exports={section:"BusPage_section__HyCCq",field:"BusPage_field__jri_z",back:"BusPage_back__G85x0"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=5147)}),_N_E=e.O()}]);