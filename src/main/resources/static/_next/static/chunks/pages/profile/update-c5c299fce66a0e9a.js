(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{3943:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/update",function(){return i(9058)}])},5244:function(e,t,i){"use strict";i.d(t,{m:function(){return f}});var n=i(5893),r=i(1163),a=i.n(r),s=i(7294),l=i(8744),d=i(8929),o=i(8058),c=i(3459),u=i(3377),m=i(7658),_=i.n(m);function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){let{userData:s,isAdmin:l,isSuperAdmin:o}=(0,d.S)(),{pathname:c}=(0,r.useRouter)(),m=c===u.M.LOGIN||c===u.M.REGISTER||"/"===c;return m?s?(0,n.jsx)(p,{isCredential:m}):(0,n.jsx)(e,{...a}):s?i?o?(0,n.jsx)(e,{...a}):(0,n.jsx)(p,{isCredential:!0}):t?l?(0,n.jsx)(e,{...a}):(0,n.jsx)(p,{isCredential:!0}):(0,n.jsx)(e,{...a}):(0,n.jsx)(p,{isCredential:m})}}let p=e=>{let{isCredential:t}=e,{setTrue:i,setFalse:r}=(0,o.l)(),d=e=>{e.preventDefault(),i(),a().push(t?u.M.HOME:u.M.LOGIN).finally(r)};return(0,s.useEffect)(()=>{a().push(t?u.M.HOME:u.M.LOGIN)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Sd,{title:"N\xe3o Autorizado"}),(0,n.jsxs)("form",{onSubmit:d,className:"".concat(_().notAuth," rounded"),children:[(0,n.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,n.jsx)(c.z,{label:"Voltar"})]})]})}},3459:function(e,t,i){"use strict";i.d(t,{z:function(){return c},M:function(){return u}});var n=i(5893);i(7294);var r=i(4931),a=i(8744),s=i(2429),l=i.n(s),d=i(7041),o=i.n(d);let c=e=>{let{label:t,onClick:i}=e;return(0,n.jsxs)("button",{type:"submit",onClick:i,className:o().buttonBorder,children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),t]})},u=e=>{let{isLogin:t,label:i,register:s,errors:d}=e,o=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{r.ZP.error(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl",children:i}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,n.jsx)(a.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0}),id:"cpf",className:l().credentialsInput}),(0,n.jsx)(a.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,n.jsx)(a.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,n.jsx)(a.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,n.jsx)(c,{onClick(){o.forEach(e=>{var t,i,n;return(null===(t=d[e])||void 0===t?void 0:t.type)==="required"?m(u[e].required):(null===(i=d[e])||void 0===i?void 0:i.type)==="pattern"?m(u[e].pattern):(null===(n=d[e])||void 0===n?void 0:n.type)==="min"?m(u[e].min):void 0})},label:t?"ENTRAR":"CADASTRAR"})]})}},5021:function(e,t,i){"use strict";i.d(t,{o:function(){return h}});var n=i(5893),r=i(1163),a=i.n(r),s=i(7294),l=i(7536),d=i(4931),o=i(5621),c=i(8744),u=i(8929),m=i(8058),_=i(3377),f=i(1173),p=i(7962),x=i(6997),b=i.n(x);let h=e=>{let{isUpdate:t=!1}=e,{userData:i,getUser:r}=(0,u.S)(),{register:x,handleSubmit:h,setValue:j}=(0,l.cI)(),{setTrue:N,setFalse:v}=(0,m.l)(),g=e=>{t&&(null==i?void 0:i.id)&&(N(),f.z.put("".concat(o.M.UPDATE_USER,"/").concat(i.id),{...e,id:i.id}).then(()=>{d.ZP.success("Perfil atualizado com sucesso!"),a().push(_.M.PROFILE),r()}).catch(p.x2).finally(v))},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(null==e?void 0:e.id){let t=e.birthDate.split("/"),n=new Date(Number(t[2]),Number(t[1]),Number(t[0])),r=n.getUTCDate(),a=String(n.getMonth()+1),s=n.getFullYear();var l="";1===a.length&&(l="0".concat(a));let d="".concat(r,"/").concat(l,"/").concat(s);["name","email","birthDate","id"].forEach(t=>"birthDate"===t?j(t,d):j(t,e[t]))}};(0,s.useEffect)(()=>{E()},[i]);let I=e=>()=>{N(),a().push(e?_.M.PROFILE_UPDATE:_.M.PROFILE)};return(0,n.jsxs)("form",{onSubmit:h(g),className:b().form,children:[(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("h2",{className:b().title,children:"Dados Pessoais"}),!t&&(0,n.jsx)(c.zx,{className:"mt-3 ",btnLabel:"Alterar",onClick:I(!0)})]}),(0,n.jsxs)("div",{className:b().fieldsUser,children:[(0,n.jsxs)("div",{className:b().fields,children:[(0,n.jsx)("label",{children:"Nome:"}),(0,n.jsx)(c.Jc,{className:b().input,disabled:!t,register:x("name")})]}),(0,n.jsxs)("div",{className:b().fields,children:[(0,n.jsx)("label",{children:"E-mail:"}),(0,n.jsx)(c.Jc,{className:b().input,disabled:!0,register:x("email")})]}),(0,n.jsxs)("div",{className:b().fields,children:[(0,n.jsx)("label",{children:"Data de Nascimento:"}),(0,n.jsx)(c.Jc,{className:b().input,disabled:!t,register:x("birthDate")})]})]}),t&&(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(c.zx,{type:"submit",btnLabel:"Salvar"}),(0,n.jsx)(c.RE,{onClick:I(!1),className:"ml-3",type:"button",btnLabel:"Voltar"})]})]})}},9058:function(e,t,i){"use strict";i.r(t);var n=i(5893);i(7294);var r=i(8744),a=i(5244),s=i(5021),l=i(6997),d=i.n(l);let o=(0,a.m)(()=>(0,n.jsxs)("div",{className:d().profile,children:[(0,n.jsx)(r.Sd,{title:"Perfil"}),(0,n.jsx)(s.o,{isUpdate:!0})]}));t.default=o},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},6997:function(e){e.exports={profile:"Profile_profile__NYN_1",fieldsUser:"Profile_fieldsUser__zAgnw",fields:"Profile_fields__iWsJB",title:"Profile_title__1LYp5",input:"Profile_input__4T_MZ",buttonSave:"Profile_buttonSave__TnPAv",form:"Profile_form__M0FcQ"}}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=3943)}),_N_E=e.O()}]);