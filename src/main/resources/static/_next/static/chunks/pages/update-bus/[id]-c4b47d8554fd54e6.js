(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{1979:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-bus/[id]",function(){return r(8514)}])},5244:function(e,t,r){"use strict";r.d(t,{m:function(){return p}});var n=r(5893),a=r(1163),i=r.n(a),s=(r(7294),r(4568)),o=r(8929),l=r(8058),u=r(3459),c=r(3377),d=r(7658),m=r.n(d);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(i){var s=(0,o.S)(),l=s.userData,u=s.isAdmin,d=s.isSuperAdmin,m=(0,a.useRouter)().pathname,f=m===c.M.LOGIN||m===c.M.REGISTER||"/"===m;return f?l?(0,n.jsx)(_,{isCredential:f}):(0,n.jsx)(e,b({},i)):l?r?d?(0,n.jsx)(e,b({},i)):(0,n.jsx)(_,{isCredential:!0}):t?u?(0,n.jsx)(e,b({},i)):(0,n.jsx)(_,{isCredential:!0}):(0,n.jsx)(e,b({},i)):(0,n.jsx)(_,{isCredential:f})};return i}var _=function(e){var t=e.isCredential,r=(0,l.l)(),a=r.setTrue,o=r.setFalse;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Sd,{title:"N\xe3o Autorizado"}),(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(),i().push(t?c.M.HOME:c.M.LOGIN).finally(o)},className:"".concat(m().notAuth," rounded"),children:[(0,n.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,n.jsx)(u.z,{label:"Voltar"})]})]})}},5218:function(e,t,r){"use strict";r.d(t,{$:function(){return b}});var n=r(5893),a=r(1163),i=r.n(a),s=r(7294),o=r(7536),l=r(4568),u=r(8929),c=r(3377),d=r(4780),m=r.n(d);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){var t=e.sendingData,r=e.isCreate,a=void 0!==r&&r,d=e.fieldValues,b=(0,o.cI)(),p=b.register,_=b.handleSubmit,j=b.setValue,g=(0,u.S)().userData;(0,s.useEffect)((function(){if(d){var e=["lineBus","hour","ticketPrice","inicialRoute","finalRoute","busNumber"];null===e||void 0===e||e.forEach((function(e){return j(e,d[e])}))}}),[d]);return(0,n.jsxs)("section",{className:m().section,children:[(0,n.jsxs)("h1",{className:"text-3xl mb-3",children:[a?"Registre":"Atualize"," agora uma Rota"]}),(0,n.jsxs)("form",{onSubmit:_((function(e){if(null===g||void 0===g?void 0:g.id){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({},e,{idUserAdmin:g.id});t(r)}})),className:"fields",children:[(0,n.jsx)(l.II,{register:p("lineBus.lineName",{required:!!a}),className:"my-2",label:"Linha",placeHolder:"Linha"}),(0,n.jsx)(l.II,{register:p("hour",{required:!!a}),className:"my-2",label:"Hor\xe1rio",placeHolder:"Hor\xe1rio"}),(0,n.jsx)(l.II,{register:p("ticketPrice",{required:!!a,valueAsNumber:!0}),className:"my-2",label:"Pre\xe7o da Passagem",placeHolder:"Pre\xe7o da Passagem"}),(0,n.jsx)(l.II,{register:p("inicialRoute",{required:!!a}),className:"my-2",label:"Rota Inicial",placeholder:"Rota Inicial"}),(0,n.jsx)(l.II,{register:p("finalRoute",{required:!!a}),className:"my-2",label:"Rota Final",placeHolder:"Rota Final"}),(0,n.jsx)(l.II,{register:p("busNumber",{required:!!a}),className:"my-2",label:"N\xfamero",placeHolder:"N\xfamero"}),(0,n.jsx)(l.zx,{type:"submit",btnLabel:a?"Cadastrar":"Salvar",className:"mb-4 mt-3"}),!a&&(0,n.jsx)(l.RE,{type:"button",onClick:function(){i().push(c.M.BUS)},btnLabel:"Voltar",className:"mb-4 ml-2 mt-3"})]})]})}},3459:function(e,t,r){"use strict";r.d(t,{z:function(){return c},M:function(){return d}});var n=r(5893),a=(r(7294),r(4931)),i=r(4568),s=r(2429),o=r.n(s),l=r(7041),u=r.n(l),c=function(e){var t=e.label,r=e.onClick;return(0,n.jsxs)("button",{type:"submit",onClick:r,className:u().buttonBorder,children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),t]})},d=function(e){var t=e.isLogin,r=e.label,s=e.register,l=e.errors,u=t?"ENTRAR":"CADASTRAR",d=["name","cpf","birthDate","email","password"],m={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},f=function(e){a.ZP.error(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-2xl",children:r}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:o().credentialsInput}),(0,n.jsx)(i.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:o().credentialsInput}),(0,n.jsx)(i.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:o().credentialsInput})]}),(0,n.jsx)(i.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:o().credentialsInput}),(0,n.jsx)(i.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:o().credentialsInput,type:"password"}),(0,n.jsx)(c,{onClick:function(){d.forEach((function(e){var t,r,n;"required"===(null===(t=l[e])||void 0===t?void 0:t.type)&&f(m[e].required),"pattern"===(null===(r=l[e])||void 0===r?void 0:r.type)&&f(m[e].pattern),"min"===(null===(n=l[e])||void 0===n?void 0:n.type)&&f(m[e].min)}))},label:u})]})}},8514:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(1163),i=r(7294),s=r(4931),o=r(5621),l=r(4568),u=r(5244),c=r(8058),d=r(5218),m=r(1173),f=r(7962);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(0,u.m)((function(){var e=(0,i.useState)(),t=e[0],r=e[1],u=(0,c.l)(),p=u.setTrue,_=u.setFalse,j=(0,a.useRouter)().query.id;return(0,i.useEffect)((function(){j&&(p(),m.z.get("".concat(o.M.LIST_BUS,"/").concat(j)).then((function(e){var t=e.data;r(t)})).catch(f.x2).finally(_))}),[j]),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Sd,{title:"Atualizar \xd4nibus"}),(0,n.jsx)(d.$,{fieldValues:t,sendingData:function(e){p(),m.z.put("".concat(o.M.CREATE_BUS,"/").concat(j),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({},e,{id:j})).then((function(){s.ZP.success("\xd4nibus atualizado com sucesso!")})).catch(f.x2).finally(_)}})]})}),!0);t.default=p},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},4780:function(e){e.exports={section:"BusPage_section__HyCCq",field:"BusPage_field__jri_z",back:"BusPage_back__G85x0"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}}},function(e){e.O(0,[536,774,888,179],(function(){return t=1979,e(e.s=t);var t}));var t=e.O();_N_E=t}]);