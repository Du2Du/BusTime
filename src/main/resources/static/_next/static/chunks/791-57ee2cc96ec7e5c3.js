(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{5244:function(e,n,s){"use strict";s.d(n,{m:function(){return _}});var r=s(5893),i=s(1163),a=s.n(i),t=(s(7294),s(9363)),o=s(8929),l=s(8058),c=s(3459),d=s(3377),u=s(7658),m=s.n(u);function h(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function f(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{},r=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),r.forEach((function(n){h(e,n,s[n])}))}return e}function _(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=function(s){var a=(0,o.S)(),t=a.userData,l=a.isAdmin,c=(0,i.useRouter)().pathname,u=c===d.M.LOGIN||c===d.M.REGISTER||"/"===c;return u?t?(0,r.jsx)(p,{isCredential:u}):(0,r.jsx)(e,f({},s)):t?n?l?(0,r.jsx)(e,f({},s)):(0,r.jsx)(p,{isCredential:!0}):(0,r.jsx)(e,f({},s)):(0,r.jsx)(p,{isCredential:u})};return s}var p=function(e){var n=e.isCredential,s=(0,l.l)(),i=s.setTrue,o=s.setFalse;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.Sd,{title:"N\xe3o Autorizado"}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(),a().push(n?d.M.HOME:d.M.LOGIN).finally(o)},className:"".concat(m().notAuth," rounded"),children:[(0,r.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,r.jsx)(c.z,{label:"Voltar"})]})]})}},3459:function(e,n,s){"use strict";s.d(n,{z:function(){return d},M:function(){return u}});var r=s(5893),i=(s(7294),s(4931)),a=s(9363),t=s(2429),o=s.n(t),l=s(7041),c=s.n(l),d=function(e){var n=e.label,s=e.onClick;return(0,r.jsxs)("button",{type:"submit",onClick:s,className:c().buttonBorder,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),n]})},u=function(e){var n=e.isLogin,s=e.label,t=e.register,l=e.errors,c=n?"ENTRAR":"CADASTRAR",u=["name","cpf","birthDate","email","password"],m={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"O cpf deve ficar no formato XXX.XXX.XXX-XX",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},h=function(e){i.ZP.error(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl",children:s}),!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.II,{label:"Nome",placeHolder:"Nome",register:t("name",{required:!0}),id:"name",className:o().credentialsInput}),(0,r.jsx)(a.II,{label:"CPF",placeHolder:"CPF",register:t("cpf",{required:!0,pattern:/\d{3}\.\d{3}\.\d{3}\-\d{2}/g}),id:"cpf",className:o().credentialsInput}),(0,r.jsx)(a.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:t("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:o().credentialsInput})]}),(0,r.jsx)(a.II,{label:"Email",placeHolder:"Email",register:t("email",{required:!0}),id:"email",type:"email",className:o().credentialsInput}),(0,r.jsx)(a.II,{label:"Senha",placeHolder:"Senha",id:"password",register:t("password",{required:!0,min:6}),className:o().credentialsInput,type:"password"}),(0,r.jsx)(d,{onClick:function(){u.forEach((function(e){var n,s,r;"required"===(null===(n=l[e])||void 0===n?void 0:n.type)&&h(m[e].required),"pattern"===(null===(s=l[e])||void 0===s?void 0:s.type)&&h(m[e].pattern),"min"===(null===(r=l[e])||void 0===r?void 0:r.type)&&h(m[e].min)}))},label:c})]})}},2007:function(e,n,s){"use strict";s.d(n,{h:function(){return v},o:function(){return S}});var r=s(5893),i=s(1163),a=s.n(i),t=s(7294),o=s(7516),l=s(8058),c=s(3377),d=s(4959),u=s.n(d),m=s(8193),h=s(471),f=s(2585),_=s(8929),p=s(1425),x=s(6518),j=s.n(x),b=function(){var e=(0,_.S)(),n=e.userData,s=e.isAdmin;return(0,r.jsxs)("div",{className:j().dropdown,children:[(0,r.jsx)("a",{className:j().label,children:(0,r.jsx)(m.qTj,{size:20})}),(0,r.jsxs)("ul",{className:j().items,children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.PROFILE,children:[(0,r.jsx)(h.Mdg,{size:27,className:j().faBrands}),"Perfil"]})}),(null===n||void 0===n?void 0:n.permissionsGroup.name)===p.s.SUPER_ADMINISTRATOR&&(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.PERMISSIONS,children:[(0,r.jsx)(m.YfK,{size:27,className:j().faBrands}),"Permiss\xf5es"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.FAVORITE,children:[(0,r.jsx)(m.lo,{size:27,className:j().faBrands}),"Favoritos"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.HOME,children:[(0,r.jsx)(o.DaR,{size:27,className:j().faBrands}),"Menu"]})}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.CREATE_BUS,children:[(0,r.jsx)(f.JSW,{size:27,className:j().faBrands}),"Cadastrar"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.BUS,children:[(0,r.jsx)(o.BEE,{size:27,className:j().faBrands}),"\xd4nibus"]})})]}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:c.M.LOGOUT,children:[(0,r.jsx)(o.sSc,{size:27,className:j().faBrands}),"Sair"]})})]})]})},v=function(){var e=(0,t.useState)(""),n=e[0],s=e[1],i=(0,l.l)(),d=i.setTrue,m=i.setFalse;return(0,r.jsxs)("header",{className:"".concat(u().header),children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"".concat(u().searchBox),children:[(0,r.jsx)("input",{type:"text",value:n,onChange:function(e){s(e.target.value)},placeholder:"Procure pela Linha do \xd4nibus",onKeyDown:function(e){if("Enter"===e.code)return d(),a().push("".concat(c.M.SEARCH_BUS,"?line=").concat(n)).finally(m)},className:u().searchInput}),(0,r.jsx)("div",{className:u().searchBtn,children:(0,r.jsx)(o.Goc,{})})]}),(0,r.jsx)("h1",{children:"BusTime"})]})},I=s(5621),N=s(9363),g=s(1173),E=s(2866),S=function(){var e=(0,_.S)(),n=(e.userData,e.isAdmin),s=(0,t.useState)(),i=s[0],o=s[1],l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;g.z.get("".concat(I.M.LIST_BUS,"?size=").concat(n,"&page=").concat(e)).then((function(e){return o(e.data)}))};return(0,t.useEffect)((function(){l(0)}),[]),(0,r.jsxs)("main",{className:u().homeMain,children:[n&&(0,r.jsxs)("div",{className:u().busDescription,children:[(0,r.jsx)("p",{children:"\xc9 respons\xe1vel por alguma rota de \xf4nibus? Registre ela agora!"}),(0,r.jsx)(N.zx,{onClick:function(){a().push(c.M.CREATE_BUS)},className:"my-4",btnLabel:"Cadastrar"})]}),(0,r.jsxs)("div",{className:u().busList,children:[(0,r.jsx)("p",{children:"Veja agora os hor\xe1rios de \xf4nibus:"}),0!==(null===i||void 0===i?void 0:i.content.length)&&(null===i||void 0===i?void 0:i.content)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:u().list,children:null===i||void 0===i?void 0:i.content.map((function(e){return(0,r.jsx)(E.V,{bus:e},e.id)}))}),i&&(0,r.jsx)(N.tl,{showTotal:!0,reloadItens:l,pagination:i})]}):(0,r.jsx)("p",{style:{color:"#fff"},children:"Nenhum \xf4nibus a ser exibido"})]})]})}},2866:function(e,n,s){"use strict";s.d(n,{V:function(){return f}});var r=s(5893),i=s(7294),a=s(4931),t=s(8193),o=s(5621),l=s(8929),c=s(8058),d=s(1173),u=s(1425),m=s(4959),h=s.n(m),f=function(e){var n=e.bus,s=e.setFavoriteBus,m=(0,c.l)(),f=m.setTrue,_=m.setFalse,p=(0,l.S)().userData,x=(0,i.useState)(null===p||void 0===p?void 0:p.favoriteBus.find((function(e){return n.id===e.id}))),j=x[0],b=x[1],v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){f(),d.z.get("".concat(e?o.M.FAVORITE_BUS:o.M.DISFAVOR_BUS,"/").concat(null===p||void 0===p?void 0:p.id,"?bus=").concat(n.id)).then((function(r){s&&s(r.data),b(r.data.find((function(e){return n.id===e.id}))),a.ZP.success("\xd4nibus ".concat(e?"favoritado":"desfavoritado"," com sucesso!"))})).catch(u.x).finally(_)}};return(0,r.jsxs)("div",{className:h().listItem,children:[(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"Linha: "}),n.line]}),(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"Hor\xe1rio: "}),n.hour]}),(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"Passagem: "}),"R$",n.ticketPrice]}),(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"Rota Incial: "}),n.inicialRoute]}),(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"Rota Final: "}),n.finalRoute]}),(0,r.jsxs)("div",{className:h().fieldItem,children:[(0,r.jsx)("b",{children:"N\xfamero: "}),n.busNumber]}),(0,r.jsx)("div",{className:h().fieldItem,children:j?(0,r.jsx)(t.M_L,{size:30,className:"cursor-pointer",onClick:v(!1)}):(0,r.jsx)(t.lo,{className:"cursor-pointer",size:30,onClick:v()})})]})}},3377:function(e,n,s){"use strict";s.d(n,{M:function(){return r}});var r={LOGIN:"/login",REGISTER:"/register",CREATE_BUS:"/create-bus",HOME:"/home",PROFILE:"/profile",PROFILE_UPDATE:"/profile/update",BUS:"/bus",FAVORITE:"/favorites",LOGOUT:"/logout",PERMISSIONS:"/permissions",UPDATE_BUS:"/update-bus",SEARCH_BUS:"/search-bus"}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},4959:function(e){e.exports={home:"Home_home__NtsD3",header:"Home_header__Ra6e4",searchBox:"Home_searchBox__z_tZa",searchInput:"Home_searchInput__wJXwE",searchBtn:"Home_searchBtn__i34iE",homeMain:"Home_homeMain__PPaXi",busDescription:"Home_busDescription__yi9NT",busList:"Home_busList__IUmdF",list:"Home_list__8Hj5e",listItem:"Home_listItem__4FC7j",fieldItem:"Home_fieldItem__4d_6l","scale-up-center":"Home_scale-up-center__ib5WL"}},6518:function(e){e.exports={dropdown:"Dropdown_dropdown__RTKFo",items:"Dropdown_items__AxuVI",faBrands:"Dropdown_faBrands__vVX4r",label:"Dropdown_label__ZyQIb"}}}]);