(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{5244:function(e,n,t){"use strict";t.d(n,{m:function(){return x}});var r=t(5893),i=t(1163),a=t.n(i),s=t(7294),l=t(8744),o=t(8929),c=t(8058),d=t(3459),u=t(3377),m=t(7658),p=t.n(m);function x(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){let{userData:s,isAdmin:l,isSuperAdmin:c}=(0,o.S)(),{pathname:d}=(0,i.useRouter)(),m=d===u.M.LOGIN||d===u.M.REGISTER||"/"===d;return m?s?(0,r.jsx)(f,{isCredential:m}):(0,r.jsx)(e,{...a}):s?t?c?(0,r.jsx)(e,{...a}):(0,r.jsx)(f,{isCredential:!0}):n?l?(0,r.jsx)(e,{...a}):(0,r.jsx)(f,{isCredential:!0}):(0,r.jsx)(e,{...a}):(0,r.jsx)(f,{isCredential:m})}}let f=e=>{let{isCredential:n}=e,{setTrue:t,setFalse:i}=(0,c.l)(),o=e=>{e.preventDefault(),t(),a().push(n?u.M.HOME:u.M.LOGIN).finally(i)};return(0,s.useEffect)(()=>{a().push(n?u.M.HOME:u.M.LOGIN)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Sd,{title:"N\xe3o Autorizado"}),(0,r.jsxs)("form",{onSubmit:o,className:"".concat(p().notAuth," rounded"),children:[(0,r.jsx)("p",{children:"Voc\xea n\xe3o pode acessar esse recurso "}),(0,r.jsx)(d.z,{label:"Voltar"})]})]})}},3459:function(e,n,t){"use strict";t.d(n,{z:function(){return d},M:function(){return u}});var r=t(5893);t(7294);var i=t(4931),a=t(8744),s=t(2429),l=t.n(s),o=t(7041),c=t.n(o);let d=e=>{let{label:n,onClick:t}=e;return(0,r.jsxs)("button",{type:"submit",onClick:t,className:c().buttonBorder,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),n]})},u=e=>{let{isLogin:n,label:t,register:s,errors:o}=e,c=["name","cpf","birthDate","email","password"],u={name:{required:"O nome \xe9 obrigat\xf3rio",pattern:"",min:""},cpf:{required:"O cpf \xe9 obrigat\xf3rio",pattern:"",min:""},birthDate:{required:"A data de nascimento \xe9 obrigat\xf3ria",pattern:"A data de nascimento deve ficar no formato dd/mm/yyyy",min:""},email:{required:"O email \xe9 obrigat\xf3rio",pattern:"",min:""},password:{required:"A senha \xe9 obrigat\xf3ria",pattern:"",min:"A senha deve ter no m\xednimo 6 d\xedgitos"}},m=e=>{i.ZP.error(e)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl",children:t}),!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.II,{label:"Nome",placeHolder:"Nome",register:s("name",{required:!0}),id:"name",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"CPF",placeHolder:"CPF",register:s("cpf",{required:!0}),id:"cpf",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"Data de Nascimento",placeHolder:"Data de Nascimento",register:s("birthDate",{required:!0,pattern:/^(0[1-9]|1\d|2\d|3[01])\/(0[1-9]|1[0-2])\/(19|20)\d{2}$/}),id:"date",className:l().credentialsInput})]}),(0,r.jsx)(a.II,{label:"Email",placeHolder:"Email",register:s("email",{required:!0}),id:"email",type:"email",className:l().credentialsInput}),(0,r.jsx)(a.II,{label:"Senha",placeHolder:"Senha",id:"password",register:s("password",{required:!0,min:6}),className:l().credentialsInput,type:"password"}),(0,r.jsx)(d,{onClick(){c.forEach(e=>{var n,t,r;return(null===(n=o[e])||void 0===n?void 0:n.type)==="required"?m(u[e].required):(null===(t=o[e])||void 0===t?void 0:t.type)==="pattern"?m(u[e].pattern):(null===(r=o[e])||void 0===r?void 0:r.type)==="min"?m(u[e].min):void 0})},label:n?"ENTRAR":"CADASTRAR"})]})}},6897:function(e,n,t){"use strict";t.d(n,{cN:function(){return x},W3:function(){return v},sY:function(){return E}});var r=t(5893),i=t(1664),a=t.n(i),s=t(7294),l=t(7536),o=t(4931),c=t(3377),d=t(3797),u=t(3459),m=t(2429),p=t.n(m);let x=e=>{let{onSubmit:n,isLogin:t=!1}=e,{register:i,handleSubmit:s,formState:{errors:m}}=(0,l.cI)(),x=e=>{if(!t){let r=e.cpf.replace(/\./g,"").replace("-","");if((0,d.Fm)(e.cpf)&&!e.cpf.match("[0-9]+")||(0,d.Fm)(e.cpf)||!(0,d.pM)(r))return o.ZP.error("Digite um CPF v\xe1lido!");let i=(0,d.Cz)(r);return n({...e,cpf:i})}let{email:a,password:s}=e;return n({email:a,password:s})};return(0,r.jsxs)("div",{className:p().credentials,children:[(0,r.jsx)("form",{onSubmit:s(x),className:"".concat(p().formCredentials," rounded"),children:(0,r.jsx)(u.M,{isLogin:t,label:t?"Entrar":"Registrar",errors:m,register:i})}),(0,r.jsx)("div",{className:p().redirect,children:(0,r.jsx)(a(),{replace:!0,href:t?c.M.REGISTER:c.M.LOGIN,children:t?"N\xe3o tem cadastro? Cadastre Aqui":"J\xe1 tem login? Entre Aqui"})})]})};var f=t(5621),_=t(8058),h=t(1173),g=t(7962),j=t(6486),b=t(2064),I=t.n(b);let N=e=>{let{keys:n,permissionGroup:t}=e;return(0,r.jsx)("main",{className:I().mainWrap,children:(0,r.jsx)("div",{className:I().mainInner,children:(0,r.jsx)("ul",{className:I().accor,children:(0,r.jsxs)("li",{children:[(0,r.jsx)("input",{type:"checkbox",name:"accordion",id:"off-accor".concat(n),className:I().offAccor}),(0,r.jsxs)("label",{htmlFor:"off-accor".concat(n),className:I().accorTitle,children:[(0,r.jsx)("span",{children:(0,j.get)({DEFAULT:"Passageiro",ADMINISTRATOR:"Administrador",SUPER_ADMINISTRATOR:"Super Administrador"},t.name)}),(0,r.jsx)("span",{className:I().icon})]}),0===t.permissionList.length?(0,r.jsx)("div",{className:I().accorContent,children:(0,r.jsx)("p",{children:"Nenhuma permiss\xe3o vinculada a esse perfil de usu\xe1rio"})}):t.permissionList.map(e=>(0,r.jsxs)("div",{className:I().accorContent,children:[(0,r.jsx)("p",{children:e.permissionName}),(0,r.jsx)("hr",{})]},e.id))]})})})})},v=()=>{let[e,n]=(0,s.useState)([]),{setFalse:t,setTrue:i}=(0,_.l)();return(0,s.useEffect)(()=>{i(),h.z.get(f.M.LIST_GROUP_PERMISSIONS).then(e=>n(e.data)).catch(g.x2).finally(t)},[]),(0,r.jsxs)("div",{className:I().main,children:[(0,r.jsx)("h1",{children:"Listagem de Permiss\xf5es"}),e.map(e=>(0,r.jsx)(N,{permissionGroup:e,keys:e.id},e.id))]})};var C=t(8744);let M=e=>{let n=new Date(e),t=n.getFullYear(),r=n.getDate(),i=String(n.getMonth()+1),a=n.toLocaleTimeString();return"".concat(r,"/").concat(i,"/").concat(t," ").concat(a)};var A=t(3328),L=t.n(A);let S=[{label:"M\xe9todo",name:"method",size:1},{label:"Url",name:"url",size:3},{label:"Hora",name:"date",size:2},{label:"Status",name:"urlStatus",size:2},{label:"Usu\xe1rio",name:"userForm",renderColumn(e){if(null===e.userForm)return"";let n=e.userForm.split(","),t=n[1].slice(8,n[1].length-1),i=n[2].slice(4),a=n[3].slice(18,n[3].length-1);return(0,r.jsxs)("div",{className:"flex flex-col my-2",children:[(0,r.jsx)("p",{children:"ID: ".concat(i)}),(0,r.jsx)("p",{children:"Email: ".concat(t)}),(0,r.jsx)("p",{children:"Permiss\xe3o: ".concat(a)})]})},size:4}],E=e=>{let{}=e,[n,t]=(0,s.useState)(),{setTrue:i,setFalse:a}=(0,_.l)(),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i(),h.z.get("".concat(f.M.LOGS,"?page=").concat(e,"&size=10")).then(e=>t(()=>({...e.data,content:e.data.content.map(e=>({...e,date:M(e.time)}))}))).catch(g.x2).finally(a)};return(0,s.useEffect)(()=>{l()},[]),(0,r.jsx)("div",{className:L().logs,children:n&&(0,r.jsx)("div",{className:L().tableLogs,children:(0,r.jsx)(C.iA,{headerTitle:"Logs",values:null==n?void 0:n.content,showTotal:!1,showPagination:!0,renderExtraHeaderComponent:(0,r.jsx)(C.zx,{btnLabel:"Atualizar",onClick:()=>l()}),paginationData:n,reloadItens:l,columns:S})})})}},3797:function(e,n,t){"use strict";t.d(n,{Cz:function(){return s},Fm:function(){return l},pM:function(){return a},sR:function(){return i}});let r=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});function i(e){return r.format(Number(e))}function a(e){var n,t;if(n=0,"00000000000"==e)return!1;for(let r=1;r<=9;r++)n+=parseInt(e.substring(r-1,r))*(11-r);if((10==(t=10*n%11)||11==t)&&(t=0),t!=parseInt(e.substring(9,10)))return!1;n=0;for(let i=1;i<=10;i++)n+=parseInt(e.substring(i-1,i))*(12-i);return(10==(t=10*n%11)||11==t)&&(t=0),t==parseInt(e.substring(10,11))}function s(e){return(e=e.replace(/[^\d]/g,"")).replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function l(e){return e[3].includes(".")&&e[7].includes(".")&&e[11].includes("-")}},7658:function(e){e.exports={notAuth:"withAuth_notAuth___86PU"}},2429:function(e){e.exports={container:"Credentials_container__5SmbT",credentialsInput:"Credentials_credentialsInput__gsHMg",credentials:"Credentials_credentials__Oc15W",formCredentials:"Credentials_formCredentials__Xa6ej",inputError:"Credentials_inputError__yp8il",label:"Credentials_label__XTi8k",redirect:"Credentials_redirect__PGnc6"}},7041:function(e){e.exports={buttonBorder:"Button_buttonBorder__AohEF","btn-anim1":"Button_btn-anim1__CyFmk","btn-anim2":"Button_btn-anim2__dW1Wl","btn-anim3":"Button_btn-anim3__3urRD","btn-anim4":"Button_btn-anim4___6mM2"}},3328:function(e){e.exports={logs:"Logs_logs__DgPAT",tableLogs:"Logs_tableLogs__h3a9z"}},2064:function(e){e.exports={main:"PermissionsListMain_main__r1_Kd",mainInner:"PermissionsListMain_mainInner__kIJo7",mainWrap:"PermissionsListMain_mainWrap__8mtAS",accor:"PermissionsListMain_accor__57Vct",accorTitle:"PermissionsListMain_accorTitle__CiFH4",icon:"PermissionsListMain_icon__gPIhs",accorContent:"PermissionsListMain_accorContent__Img89",offAccor:"PermissionsListMain_offAccor__6lXLp"}}}]);